/* Copyright (c) Ericsson 2019 */

define("styles!widgets/virtual-scroll-bar/scroll-bar/_scrollBar.less",function(){return".elWidgets-ScrollBar {\n  position: relative;\n  font-size: 0;\n}\n.elWidgets-ScrollBar-decrement,\n.elWidgets-ScrollBar-increment,\n.elWidgets-ScrollBar-track {\n  display: block;\n}\n.elWidgets-ScrollBar-decrement,\n.elWidgets-ScrollBar-increment {\n  height: 14px;\n  width: 14px;\n  background-color: #f0f0f0;\n}\n.elWidgets-ScrollBar-decrement:hover,\n.elWidgets-ScrollBar-increment:hover {\n  background-color: #cccccc;\n}\n.elWidgets-ScrollBar-decrement_disabled,\n.elWidgets-ScrollBar-increment_disabled {\n  pointer-events: none;\n}\n.elWidgets-ScrollBar-decrement_disabled .elWidgets-ScrollBar-icon,\n.elWidgets-ScrollBar-increment_disabled .elWidgets-ScrollBar-icon {\n  opacity: 0.3;\n}\n.elWidgets-ScrollBar-decrement .elWidgets-ScrollBar-icon,\n.elWidgets-ScrollBar-increment .elWidgets-ScrollBar-icon {\n  height: 100%;\n  width: 100%;\n}\n.elWidgets-ScrollBar-track {\n  position: relative;\n  box-sizing: border-box;\n}\n.elWidgets-ScrollBar-trackBody {\n  background-color: #f0f0f0;\n}\n.elWidgets-ScrollBar-track .elWidgets-ScrollBar-thumb {\n  position: absolute;\n  box-sizing: border-box;\n  border-radius: 3px;\n  background-color: #cccccc;\n  cursor: pointer;\n}\n.elWidgets-ScrollBar-track .elWidgets-ScrollBar-thumb:hover {\n  background-color: #999999;\n}\n.elWidgets-ScrollBar-annotation {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 18px;\n  height: 24px;\n  width: auto;\n  padding: 4px 8px;\n  margin: auto 0;\n  box-sizing: border-box;\n  z-index: 500;\n  pointer-events: none;\n  border: solid 1px #e8e8e8;\n  border-radius: 3px;\n  color: #ffffff;\n  background-color: #4a4948;\n  box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.2);\n  transition: opacity 1s linear;\n  opacity: 0;\n}\n.elWidgets-ScrollBar-annotation_show {\n  opacity: 1;\n}\n.elWidgets-ScrollBar-annotationText {\n  font-size: 12px;\n  line-height: 16px;\n  white-space: nowrap;\n}\n.elWidgets-ScrollBar:not( .elWidgets-ScrollBar_horizontal) {\n  display: inline-block;\n  height: 100%;\n  width: 14px;\n  padding-left: 4px;\n  vertical-align: top;\n}\n.elWidgets-ScrollBar:not( .elWidgets-ScrollBar_horizontal) .elWidgets-ScrollBar-decrement {\n  border-top-left-radius: 2px;\n  border-top-right-radius: 2px;\n}\n.elWidgets-ScrollBar:not( .elWidgets-ScrollBar_horizontal) .elWidgets-ScrollBar-increment {\n  border-bottom-left-radius: 2px;\n  border-bottom-right-radius: 2px;\n}\n.elWidgets-ScrollBar:not( .elWidgets-ScrollBar_horizontal) .elWidgets-ScrollBar-track {\n  height: calc(100% - (2 * 14px));\n  width: 100%;\n}\n.elWidgets-ScrollBar:not( .elWidgets-ScrollBar_horizontal) .elWidgets-ScrollBar-trackBody {\n  height: 100%;\n  width: 14px;\n}\n.elWidgets-ScrollBar:not( .elWidgets-ScrollBar_horizontal) .elWidgets-ScrollBar-track .elWidgets-ScrollBar-thumb {\n  min-height: 18px;\n  width: 100%;\n}\n.elWidgets-ScrollBar_touch .elWidgets-ScrollBar-decrement,\n.elWidgets-ScrollBar_touch .elWidgets-ScrollBar-increment {\n  width: 20px;\n  height: 20px;\n}\n.elWidgets-ScrollBar_touch .elWidgets-ScrollBar-annotation {\n  right: 24px;\n}\n.elWidgets-ScrollBar_touch:not( .elWidgets-ScrollBar_horizontal) {\n  width: 20px;\n}\n.elWidgets-ScrollBar_touch:not( .elWidgets-ScrollBar_horizontal) .elWidgets-ScrollBar-track {\n  height: calc(100% - (2 * 20px));\n}\n.elWidgets-ScrollBar_touch:not( .elWidgets-ScrollBar_horizontal) .elWidgets-ScrollBar-trackBody {\n  height: 100%;\n  width: 20px;\n}\n.elWidgets-ScrollBar_touch:not( .elWidgets-ScrollBar_horizontal) .elWidgets-ScrollBar-track .elWidgets-ScrollBar-thumb {\n  min-height: 20px;\n}\n"}),define("template!widgets/virtual-scroll-bar/scroll-bar/_annotation.hbs",["jscore/handlebars/handlebars"],function(t){return t.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers);var r,l,a="",s="function",c=this.escapeExpression;return a+='<div class="elWidgets-ScrollBar-annotation">\n    <div class="elWidgets-ScrollBar-annotationText">',(l=n.text)?r=l.call(e,{hash:{}}):(l=e&&e.text,r=typeof l===s?l.call(e,{hash:{}}):l),a+=c(r)+"</div>\n</div>\n"})}),define("template!widgets/virtual-scroll-bar/scroll-bar/_scrollBar.hbs",["jscore/handlebars/handlebars"],function(t){return t.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers);var r,l,a="",s="function",c=this.escapeExpression;return a+='<div class="elWidgets-ScrollBar">',(l=n.noWhiteSpace)?r=l.call(e,{hash:{}}):(l=e&&e.noWhiteSpace,r=typeof l===s?l.call(e,{hash:{}}):l),a+=c(r)+'<div class="elWidgets-ScrollBar-decrement">\n        <div class="ebIcon ebIcon_interactive ',(l=n.decrementIcon)?r=l.call(e,{hash:{}}):(l=e&&e.decrementIcon,r=typeof l===s?l.call(e,{hash:{}}):l),a+=c(r)+' elWidgets-ScrollBar-icon"></div>\n    </div>',(l=n.noWhiteSpace)?r=l.call(e,{hash:{}}):(l=e&&e.noWhiteSpace,r=typeof l===s?l.call(e,{hash:{}}):l),a+=c(r)+'<div class="elWidgets-ScrollBar-track">\n        <div class="elWidgets-ScrollBar-trackBody"></div>\n        <div class="elWidgets-ScrollBar-thumb"></div>\n    </div>',(l=n.noWhiteSpace)?r=l.call(e,{hash:{}}):(l=e&&e.noWhiteSpace,r=typeof l===s?l.call(e,{hash:{}}):l),a+=c(r)+'<div class="elWidgets-ScrollBar-increment">\n        <div class="ebIcon ebIcon_interactive ',(l=n.incrementIcon)?r=l.call(e,{hash:{}}):(l=e&&e.incrementIcon,r=typeof l===s?l.call(e,{hash:{}}):l),a+=c(r)+' elWidgets-ScrollBar-icon"></div>\n    </div>\n</div>\n'})}),define("widgets/virtual-scroll-bar/scroll-bar/ScrollBarView",["jscore/core","template!./_scrollBar.hbs","template!./_annotation.hbs","styles!./_scrollBar.less"],function(t,e,n,i){"use strict";function o(t){return function(){return this.getElement().find(l+t)}}function r(t,e){e?t.removeModifier("disabled"):t.setModifier("disabled")}var l=".elWidgets-ScrollBar";return t.View.extend({getTemplate:function(){return e(this.options)},getStyle:function(){return i},getTrack:o("-track"),getTrackBody:o("-trackBody"),getThumb:o("-thumb"),getDecrementScrollBtn:o("-decrement"),getDecrementScrollIcon:o("-decrement .ebIcon"),enableDecrementScrollBtn:function(t){r(this.getDecrementScrollBtn(),t)},getIncrementScrollBtn:o("-increment"),getIncrementScrollIcon:o("-increment .ebIcon"),enableIncrementScrollBtn:function(t){r(this.getIncrementScrollBtn(),t)},getAnnotation:o("-annotation"),addAnnotation:function(e){var i=this.getAnnotation();return void 0===i?(i=t.Element.parse(n({text:e})),void this.getThumb().append(i)):void i.find(l+"-annotationText").setText(e)},showAnnotation:function(t){var e=this.getAnnotation();void 0!==e&&(this._showTimeout&&clearTimeout(this._showTimeout),e.setModifier("show"),this._showTimeout=setTimeout(function(){e.removeModifier("show"),delete this._showTimeout}.bind(this),t))},removeAnnotation:function(){var t=this.getAnnotation();void 0!==t&&t.remove()}})}),define("widgets/virtual-scroll-bar/scroll-bar/ScrollBar",["jscore/core","jscore/ext/privateStore","./ScrollBarView"],function(t,e,n){"use strict";function i(){this.view.getThumb().addEventHandler("mousedown touchstart",h.bind(this))}function o(){function t(){r=0,l=0,a=0}var e=v(this).content;if(void 0!==e){v(this).contentScrollEvtId=e.addEventHandler("wheel",function(t){var e=t.originalEvent,n=0!==e.deltaY;!e.shiftKey&&n&&(e.preventDefault(),e.stopPropagation(),s.call(this,e.deltaY<0?-1:1))}.bind(this));var n,i,o,r,l,a;v(this).contentTouchStartEvtId=e.addEventHandler("touchstart",function(e){t(),i=e.originalEvent.pageX,o=e.originalEvent.pageY}),v(this).contentTouchMoveEvtId=e.addEventHandler("touchmove",function(e){var c=e.originalEvent;return r++,void 0===o?(i=c.pageX,void(o=c.pageY)):(l+=c.pageX-i,a+=c.pageY-o,i=c.pageX,o=c.pageY,void(r<3&&Math.abs(a)-Math.abs(l)<10||(Math.abs(l)<Math.abs(a)&&(s.call(this,a<0?1:-1),e.preventDefault()),clearTimeout(n),n=setTimeout(t,50))))}.bind(this)),v(this).contentTouchEndEvtId=e.addEventHandler("touchend",function(){t(),i=void 0,o=void 0})}}function r(){function e(t){t.preventDefault();var e=t.originalEvent,n=e.touches?e.touches[0]:e,i=a.call(this,n.clientY-l.getPosition().top),o=i-this.getPosition(),r=(this.getVisibleLength()-this.getStaticLength())/this.getUnitLength();return 0===o?void c():void s.call(this,function(){var t=this.getPosition(),l=o>0?t>=i:t<=i;return l||document.elementFromPoint(n.clientX,n.clientY)!==e.target?void c():void this.scroll((o>0?1:-1)*r)}.bind(this))}function n(t,e){return function(n){var i=n.originalEvent,o=i.touches?i.touches[0]:i,r=t;n.preventDefault(),s.call(this,function(){return document.elementFromPoint(o.clientX,o.clientY)!==i.target?void c():(this.scroll(r*e),void(r=r<5?r+1:r))}.bind(this))}.bind(this)}var i=t.Element.wrap(document.body),o=this.view.getDecrementScrollBtn(),r=this.view.getIncrementScrollBtn(),l=this.view.getTrackBody(),s=function(t){function e(){n++,c(),v(this).repeatedActionTimeout=setTimeout(e.bind(this),this._actionTiming(n)),t()}var n=0;e.call(this)},c=function(){clearTimeout(v(this).repeatedActionTimeout)}.bind(this);l.addEventHandler("touchstart mousedown",e.bind(this)),o.addEventHandler("touchstart mousedown",n.call(this,1,-1)),r.addEventHandler("touchstart mousedown",n.call(this,1,1)),v(this).bodyMouseEvtId=i.addEventHandler("touchend mouseup mouseleave",c)}function l(){if(void 0!==v(this).content){var t=this.getElement().getProperty("offsetWidth");v(this).content.setStyle("width","calc(100% - "+t+"px)")}}function a(t){return(this.getVirtualTrackLength()-this.getVisibleLength())/(v(this).maxPosition/t)}function s(t){var e=this.getUnitLength(),n=Math.max(1,Math.min(5,this.getVisibleLength()/e/5))*t;this.scroll(Math.round(n))}function c(t){this.view.showAnnotation(v(this).annotationDisplayDuration),this.setPosition(t)}function h(e){e.preventDefault();var n=t.Element.wrap(document.body),i=e.originalEvent,o=void 0!==i.touches?i.touches[0].clientY:i.clientY;v(this).initialPositionYOnTarget=o-this.view.getThumb().getPosition().top,v(this).bodyMoveEvtId=n.addEventHandler("mousemove touchmove",d.bind(this)),v(this).bodyMoveEndEvtId=n.addEventHandler("mouseup mouseleave touchend",g.bind(this))}function d(t){t.preventDefault();var e=t.originalEvent,n=void 0!==e.touches?e.touches[0].clientY:e.clientY,i=n-this.view.getTrack().getPosition().top-v(this).initialPositionYOnTarget;this.trigger("scroll",a.call(this,i))}function g(){var e=t.Element.wrap(document.body);v(this).bodyMoveEvtId&&e.removeEventHandler(v(this).bodyMoveEvtId),v(this).bodyMoveEndEvtId&&e.removeEventHandler(v(this).bodyMoveEndEvtId)}function u(){v(this).delayedChangeEvent&&clearTimeout(v(this).delayedChangeEvent),v(this).delayedChangeEvent=setTimeout(function(){this.trigger("change",this.getPosition())}.bind(this),0)}var v=e.create();return t.Widget.extend({view:function(){var t="ebIcon_upArrow",e="ebIcon_downArrow";return this.options.lightMode&&(t+="_white",e+="_white"),new n({decrementIcon:t,incrementIcon:e})},onViewReady:function(){t.Window.isTouch()&&this.getElement().setModifier("touch");var e=this.options;this.setContent(e.content),this.setUnitLength(e.unitLength),this.setVirtualTrackLength(e.virtualLength),this.setVisibleLength(e.visibleLength),this.setStaticLength(e.staticLength||0),this.setAnnotationText(e.annotationText),this.setAnnotationEnabled(e.annotationEnabled),v(this).annotationDisplayDuration=e.annotationDisplayDuration||1e3,i.call(this),r.call(this),o.call(this),this.addEventHandler("scroll",c.bind(this))},onDestroy:function(){g.call(this),clearTimeout(v(this).repeatedActionTimeout),void 0!==v(this).contentScrollEvtId&&(v(this).content.removeEventHandler(v(this).contentScrollEvtId),v(this).content.removeEventHandler(v(this).contentTouchStartEvtId),v(this).content.removeEventHandler(v(this).contentTouchMoveEvtId),v(this).content.removeEventHandler(v(this).contentTouchEndEvtId)),void 0!==v(this).bodyMouseEvtId&&t.Element.wrap(document.body).removeEventHandler(v(this).bodyMouseEvtId)},setContent:function(t){v(this).content=t},getUnitLength:function(){return v(this).unitLength},setUnitLength:function(t){v(this).unitLength=t},getStaticLength:function(){return v(this).staticLength},setStaticLength:function(t){v(this).staticLength=t},getVirtualTrackLength:function(){return v(this).virtualLength},setVirtualTrackLength:function(t){v(this).virtualLength=t},getVisibleLength:function(){return v(this).visibleLength},setVisibleLength:function(t){v(this).visibleLength=t},getPosition:function(){return v(this).position||this.options.position||0},setPosition:function(t,e){var n=this.view.getTrack(),i=this.view.getThumb(),o=n.getProperty("offsetHeight"),r=i.getProperty("offsetHeight"),l=o-r,a=this.getVirtualTrackLength()-this.getVisibleLength();l=Math.max(0,l),t=Math.max(0,Math.min(t,a));var s=l/(a/t);s=Math.min(l,Math.max(0,s)),v(this).position===t&&v(this).maxPosition===l&&v(this).thumbPosition===s||(i.setStyle("top",Math.round(s)),v(this).thumbPosition=s,v(this).position=t,v(this).maxPosition=l,this.view.enableDecrementScrollBtn(0!==s),this.view.enableIncrementScrollBtn(s!==l),e!==!0&&u.call(this))},scroll:function(t){t=t||1,c.call(this,this.getPosition()+t*this.getUnitLength())},redraw:function(){var t=this.view.getThumb(),e=this.view.getTrack().getProperty("offsetHeight"),n=Math.round(e/this.getVirtualTrackLength()*this.getVisibleLength());t.setStyle("height",n),l.call(this),this.setPosition(this.getPosition()),u.call(this)},setAnnotationText:function(t){v(this).annotationText=t,t&&this.view.addAnnotation(t)},setAnnotationEnabled:function(t){t?this.enableAnnotation():this.disableAnnotation()},disableAnnotation:function(){this.view.removeAnnotation()},enableAnnotation:function(){var t=v(this).annotationText;t&&this.view.addAnnotation(t)},_actionTiming:function(t){return t<5?250:150}})}),define("styles!widgets/virtual-scroll-bar/_virtualScrollBar.less",function(){return".elWidgets-VirtualScrollBar {\n  position: relative;\n  height: 100%;\n}\n.elWidgets-VirtualScrollBar-content,\n.elWidgets-VirtualScrollBar-scroll {\n  display: inline-block;\n  vertical-align: top;\n  box-sizing: border-box;\n}\n.elWidgets-VirtualScrollBar-content {\n  margin: 0;\n  padding: 0;\n  border: none;\n}\n.elWidgets-VirtualScrollBar-scroll {\n  height: 100%;\n  display: inline-block;\n}\n"}),define("template!widgets/virtual-scroll-bar/_virtualScrollBar.hbs",["jscore/handlebars/handlebars"],function(t){return t.template(function(t,e,n,i,o){function r(t,e){return"elWidgets-VirtualScrollBar_touch"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers);var l,a,s="",c=this,h="function",d=this.escapeExpression;return s+='<div class="elWidgets-VirtualScrollBar ',l=n.if.call(e,e&&e.isTouch,{hash:{},inverse:c.noop,fn:c.program(1,r,o)}),(l||0===l)&&(s+=l),s+='">\n    <div class="elWidgets-VirtualScrollBar-content"></div>',(a=n.noWhiteSpace)?l=a.call(e,{hash:{}}):(a=e&&e.noWhiteSpace,l=typeof a===h?a.call(e,{hash:{}}):a),s+=d(l)+'<div class="elWidgets-VirtualScrollBar-scroll"></div>\n</div>\n'})}),define("widgets/virtual-scroll-bar/VirtualScrollBarView",["jscore/core","template!./_virtualScrollBar.hbs","styles!./_virtualScrollBar.less"],function(t,e,n){"use strict";var i=".elWidgets-VirtualScrollBar";return t.View.extend({getTemplate:function(){return e(this.options)},getStyle:function(){return n},getContent:function(){return this.getElement().find(i+"-content")},getScroll:function(){return this.getElement().find(i+"-scroll")}})}),define("widgets/virtual-scroll-bar/VirtualScrollBar",["jscore/core","jscore/ext/privateStore","./VirtualScrollBarView","./scroll-bar/ScrollBar"],function(t,e,n,i){"use strict";function o(){this.redraw(),this.setHeight(this.getHeight())}function r(t){var e=this._getScrollBar();return this.getHeight()<=this.getUnitsPerPage()?(void 0!==e&&(d.call(this),e.destroy(),delete g(this).scrollBar),t&&d.call(this),void h.call(this)):void 0===e?void l.call(this):(e.setVirtualTrackLength(c.call(this)),e.setVisibleLength(g(this).visibleItemsHeight),void e.redraw())}function l(){var t=new i({lightMode:g(this).lightMode,annotationText:this.getAnnotationText(),annotationEnabled:this.isAnnotationEnabled(),content:this.view.getContent(),position:0,unitLength:this.getUnitSize(),staticLength:this.getHeaderPadding()*this.getHeaderUnitSize(),visibleLength:g(this).visibleItemsHeight,virtualLength:c.call(this)});t.attachTo(this.view.getScroll()),t.redraw(),t.addEventHandler("change",function(){this.trigger("change",this.getPosition())}.bind(this)),g(this).scrollBar=t}function a(){void 0!==g(this).parent&&(s(this.getElement(),g(this).parent),this.view.getContent().append(g(this).parent))}function s(t,e){e.getNative().parentNode.replaceChild(t.getNative(),e.getNative())}function c(){return this.getUnitSize()*this.getHeight()+this.getHeaderUnitSize()*this.getHeaderPadding()}function h(){var t=this.view.getScroll().getProperty("offsetWidth");this.view.getContent().setStyle("width","calc(100% - "+t+"px)")}function d(){g(this).delayedChangeEvent&&clearTimeout(g(this).delayedChangeEvent),g(this).delayedChangeEvent=setTimeout(function(){this.trigger("change",this.getPosition())}.bind(this),0)}var g=e.create();return t.Widget.extend({View:n,init:function(){var t=this.options;g(this).parent=t.parent,g(this).lightMode=t.lightMode===!0,g(this).unitSize=t.unitSize||32,g(this).virtualDataLength=t.height,g(this).headerUnitSize=t.headerUnitSize||g(this).unitSize,g(this).headerRowLength=void 0!==t.headerPadding?t.headerPadding:1,this.setAnnotationText(t.annotationText||""),this.setAnnotationEnabled(t.annotationEnabled!==!1)},onViewReady:function(){a.call(this),g(this).resizeHandler=t.Window.addEventHandler("resize",function(){this._getScrollBar()&&this._getScrollBar().redraw()}.bind(this)),this.isAttached()?o.call(this):this.onAttachTimeout=requestAnimationFrame(o.bind(this))},onDestroy:function(){t.Window.removeEventHandler(g(this).resizeHandler),this._getScrollBar()&&this._getScrollBar().destroy(),void 0!==this.onAttachTimeout&&cancelAnimationFrame(this.onAttachTimeout)},getPosition:function(){return this._getScrollBar()?Math.ceil((this._getScrollBar().getPosition()/this.getUnitSize()).toFixed(3)):0},setPosition:function(t){var e=this._getScrollBar();e&&(t=void 0!==t?t:0,e.setPosition(this.getUnitSize()*t))},getHeight:function(){return g(this).virtualDataLength},setHeight:function(t){void 0!==t&&g(this).virtualDataLength!==t&&(g(this).virtualDataLength=t,r.call(this,!0))},redraw:function(t){void 0===t&&(t=g(this).parent.getProperty("offsetHeight"));var e=Math.max(0,Math.floor((t-this.getHeaderPadding()*this.getHeaderUnitSize())/this.getUnitSize())),n=e*this.getUnitSize()+this.getHeaderPadding()*this.getHeaderUnitSize();this.view.getScroll().setStyle("height",n),this.view.getContent().setStyle("height",n),g(this).perPage=e,g(this).visibleItemsHeight=n,g(this).virtualDataLength=this.getHeight(),r.call(this)},getUnitsPerPage:function(){return g(this).perPage},getAnnotationText:function(){return g(this).annotationText},setAnnotationText:function(t){g(this).annotationText=t,void 0!==this._getScrollBar()&&this._getScrollBar().setAnnotationText(t)},isAnnotationEnabled:function(){return g(this).annotationEnabled},setAnnotationEnabled:function(t){t?this.enableAnnotation():this.disableAnnotation()},enableAnnotation:function(){g(this).annotationEnabled=!0,void 0!==this._getScrollBar()&&this._getScrollBar().enableAnnotation()},disableAnnotation:function(){g(this).annotationEnabled=!1,void 0!==this._getScrollBar()&&this._getScrollBar().disableAnnotation()},getHeaderUnitSize:function(){return g(this).headerUnitSize},getHeaderPadding:function(){return g(this).headerRowLength},getUnitSize:function(){return g(this).unitSize},_getScrollBar:function(){return g(this).scrollBar},setUnitSize:function(t){g(this).unitSize=t},setHeaderUnitSize:function(t){g(this).headerUnitSize=t}})}),define("widgets/VirtualScrollBar",["widgets/virtual-scroll-bar/VirtualScrollBar"],function(t){return t});
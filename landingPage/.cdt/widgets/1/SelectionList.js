/* Copyright (c) Ericsson 2019 */

define("template!widgets/SelectionList/Item/_item.hbs",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,s){function l(e,t){var n,s,l="";return l+='\n            <span class="elWidgets-SelectionList-strip" style="background-color: ',(s=i.color)?n=s.call(e,{hash:{}}):(s=e&&e.color,n=typeof s===a?s.call(e,{hash:{}}):s),l+=r(n)+'"></span>\n        '}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers);var o,c="",a="function",r=this.escapeExpression,h=this;return c+='<div class="elWidgets-SelectionList-item">\n    <label class="elWidgets-SelectionList-label">\n        ',o=i.if.call(t,t&&t.color,{hash:{},inverse:h.noop,fn:h.program(1,l,s)}),(o||0===o)&&(c+=o),c+="\n        "+r((o=t&&t.data,o=null==o||o===!1?o:o.name,typeof o===a?o.apply(t):o))+"\n    </label>\n</div>\n"})}),define("widgets/SelectionList/Item/ItemView",["jscore/core","template!./_item.hbs"],function(e,t){"use strict";return e.View.extend({getTemplate:function(){return t(this.options)},getBody:function(){return this.getElement()},highlight:function(){this.getBody().setModifier("highlighted")},removeHighlight:function(){this.getBody().removeModifier("highlighted")}})}),define("widgets/SelectionList/Item/Item",["widgets/WidgetCore","./ItemView"],function(e,t){"use strict";return e.extend({view:function(){var e=this.options,i="function"==typeof e.color?e.color(e.data):void 0;return new t({data:e.data,color:i})},init:function(){this._highlighted=!1},highlight:function(){this._highlighted=!0,this.getElement().setModifier("highlighted")},unhighlight:function(){this._highlighted=!1,this.getElement().removeModifier("highlighted")},isHighlighted:function(){return this._highlighted}})}),define("styles!widgets/SelectionList/_selectionList.less",function(){return".elWidgets-SelectionList {\n  border-bottom: 1px solid;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.elWidgets-SelectionList-header {\n  height: 100%;\n  float: left;\n  position: absolute;\n  width: calc(60% - 36px);\n}\n.elWidgets-SelectionList-header-icon {\n  vertical-align: initial;\n}\n.elWidgets-SelectionList-header-text {\n  padding-bottom: 0;\n  border-bottom: 0;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.elWidgets-SelectionList-actions {\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n.elWidgets-SelectionList-actions-label {\n  display: inline-block;\n  padding-right: 5px;\n}\n.elWidgets-SelectionList-actions-selectAll,\n.elWidgets-SelectionList-actions-deselectAll {\n  cursor: pointer;\n}\n.elWidgets-SelectionList-list {\n  position: relative;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.elWidgets-SelectionList-strip {\n  position: absolute;\n  left: 0;\n  height: 100%;\n  width: 6px;\n}\n.elWidgets-SelectionList-item {\n  position: relative;\n  display: block;\n  border-bottom: #e6e6e6 solid 1px;\n  margin: 0;\n  padding: 0;\n  min-height: 32px;\n  line-height: 32px;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n}\n.elWidgets-SelectionList-item:first-child {\n  border-top: #e6e6e6 solid 1px;\n}\n.elWidgets-SelectionList-item_highlighted {\n  background-color: rgba(0, 102, 179, 0.2);\n}\n.elWidgets-SelectionList-item_highlighted:hover {\n  background-color: rgba(0, 102, 179, 0.3);\n}\n.elWidgets-SelectionList-item:hover {\n  background-color: rgba(0, 102, 179, 0.1);\n}\n.elWidgets-SelectionList-label {\n  position: relative;\n  display: block;\n  cursor: pointer;\n  padding: 0 10px 0 10px;\n}\n.elWidgets-SelectionList_list_only .elWidgets-SelectionList-header-container {\n  display: none;\n}\n.elWidgets-SelectionList_list_only {\n  border-bottom: none;\n}\n"}),define("template!widgets/SelectionList/_selectionList.hbs",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,s){function l(e,t){var n,s;return(s=i.headerTagName)?n=s.call(e,{hash:{}}):(s=e&&e.headerTagName,n=typeof s===v?s.call(e,{hash:{}}):s),b(n)}function o(e,t){return"h2"}function c(e,t){var i,n="";return n+='<i class="ebIcon '+b((i=e&&e.icon,i=null==i||i===!1?i:i.prefix,typeof i===v?i.apply(e):i))+"_"+b((i=e&&e.icon,i=null==i||i===!1?i:i.name,typeof i===v?i.apply(e):i))+' elWidgets-SelectionList-header-icon"></i>\n                '}function a(e,t){var n,s="";return s+='\n        <div class="elWidgets-SelectionList-actions">\n            <div class="elWidgets-SelectionList-actions-label">\n                ',n=i.if.call(e,e&&e.selectLabel,{hash:{},inverse:L.program(10,h,t),fn:L.program(8,r,t)}),(n||0===n)&&(s+=n),s+='\n            </div>\n            <a class="elWidgets-SelectionList-actions-selectAll">\n                ',n=i.if.call(e,e&&e.selectAllLabel,{hash:{},inverse:L.program(14,g,t),fn:L.program(12,d,t)}),(n||0===n)&&(s+=n),s+='\n            </a>\n            <div class="ebLayout-HeadingCommands-separator"></div>\n            <a class="elWidgets-SelectionList-actions-deselectAll">\n                ',n=i.if.call(e,e&&e.selectNoneLabel,{hash:{},inverse:L.program(18,u,t),fn:L.program(16,f,t)}),(n||0===n)&&(s+=n),s+="\n            </a>\n        </div>\n    "}function r(e,t){var n,s;return(s=i.selectLabel)?n=s.call(e,{hash:{}}):(s=e&&e.selectLabel,n=typeof s===v?s.call(e,{hash:{}}):s),b(n)}function h(e,t){return"Select:"}function d(e,t){var n,s;return(s=i.selectAllLabel)?n=s.call(e,{hash:{}}):(s=e&&e.selectAllLabel,n=typeof s===v?s.call(e,{hash:{}}):s),b(n)}function g(e,t){return"All"}function f(e,t){var n,s;return(s=i.selectNoneLabel)?n=s.call(e,{hash:{}}):(s=e&&e.selectNoneLabel,n=typeof s===v?s.call(e,{hash:{}}):s),b(n)}function u(e,t){return"None"}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers);var p,m="",v="function",b=this.escapeExpression,L=this;return m+='<div class="elWidgets-SelectionList">\n    <div class="ebLayout-SectionHeading elWidgets-SelectionList-header-container">\n        <div class="elWidgets-SelectionList-header">\n            <',p=i.if.call(t,t&&t.headerTagName,{hash:{},inverse:L.program(3,o,s),fn:L.program(1,l,s)}),(p||0===p)&&(m+=p),m+=' class="elWidgets-SelectionList-header-text">\n                ',p=i.if.call(t,t&&t.icon,{hash:{},inverse:L.noop,fn:L.program(5,c,s)}),(p||0===p)&&(m+=p),m+='<span class="elWidgets-SelectionList-header-text-span"></span>\n            </',p=i.if.call(t,t&&t.headerTagName,{hash:{},inverse:L.program(3,o,s),fn:L.program(1,l,s)}),(p||0===p)&&(m+=p),m+='>\n        </div>\n        <div class="ebLayout-HeadingCommands">\n            <div class="ebLayout-HeadingCommands-block">\n                <div class="elWidgets-SelectionList-dropdown"></div>\n            </div>\n        </div>\n        <div class="ebLayout-clearFix"></div>\n\n    </div>\n    ',p=i.if.call(t,t&&t.showSelectActions,{hash:{},inverse:L.noop,fn:L.program(7,a,s)}),(p||0===p)&&(m+=p),m+='\n    <div class="elWidgets-SelectionList-content"></div>\n</div>\n'})}),define("widgets/SelectionList/SelectionListView",["jscore/core","template!./_selectionList.hbs","styles!./_selectionList.less"],function(e,t,i){"use strict";var n=".elWidgets-SelectionList";return e.View.extend({getTemplate:function(){return t(this.options)},getStyle:function(){return i},getBody:function(){return this.getElement()},getContent:function(){return this.getElement().find(n+"-content")},getDropdownDiv:function(){return this.getElement().find(n+"-dropdown")},getActionsDiv:function(){return this.getElement().find(n+"-actions")},getActionsSelectAll:function(){return this.getElement().find(n+"-actions-selectAll")},getActionsClearSelection:function(){return this.getElement().find(n+"-actions-deselectAll")},getHeader:function(){return this.getElement().find(n+"-header-container")},setHeader:function(e){this.getElement().find(n+"-header-text-span").setText(e)},setHeaderWidth:function(){var e=this.getDropdownDiv().getProperty("offsetWidth");this.getElement().find(n+"-header").setStyle("width","calc(100% - "+(e+10)+"px)")}})}),define("widgets/SelectionList/SelectionList",["widgets/WidgetCore","jscore/ext/privateStore","./SelectionListView","./Item/Item","widgets/Dropdown","../utils/parserUtils"],function(e,t,i,n,s,l){"use strict";function o(){p(this).data.forEach(function(e,t){this.addItem(e)}.bind(this))}function c(){this.dropdown=new s(p(this).dropdownData),this.dropdown.attachTo(this.view.getDropdownDiv()),this.addEventHandler("change",a.bind(this)),a.call(this)}function a(){p(this).selectedItems.length>0?this.dropdown.enable():this.dropdown.disable()}function r(){this.view.getActionsSelectAll().addEventHandler("click",function(){this.selectAll()}.bind(this)),this.view.getActionsClearSelection().addEventHandler("click",function(){this.clearSelection()}.bind(this))}function h(e,t,i){e.isHighlighted()?(e.unhighlight(),p(this).selectedItems.indexOf(e)!==-1&&p(this).selectedItems.splice(p(this).selectedItems.indexOf(e),1),t||this.clearSelection(!0),e.options.data.selected=!1):(e.highlight(),p(this).selectedItems.push(e),p(this).previouslyHightlighted=e,e.options.data.selected=!0),i||this.trigger("change")}function d(e){return p(this).items.indexOf(e)}function g(){var e=[];return p(this).selectedItems.forEach(function(t){e.push(d.call(this,t))}.bind(this)),e}function f(e){var t=!0,i=!1;return e.sort(function(e,t){return e-t}),e.forEach(function(n,s){i!==!1&&i!==n-1&&s!==e.length-1&&(t=!1),i=n}.bind(this)),t}function u(e,t){var i=this.getItems()[t],n=this.view.getContent();void 0!==i?n.getNative().insertBefore(e.getElement().getNative(),i.getElement().getNative()):e.attachTo(n)}var p=t.create();return e.extend({view:function(){var e=this.options;return new i({icon:l.parseIcons(e.icon),selectLabel:e.selectLabel,showSelectActions:e.showSelectActions,selectAllLabel:e.selectAllLabel,selectNoneLabel:e.selectNoneLabel,headerTagName:e.headerTagName&&!/(h|H)[2-4]/.test(e.headerTagName)?void 0:e.headerTagName})},init:function(e){e&&(p(this).data=e.items||[],p(this).items=[],p(this).selectedItems=[],e.dropdown&&(p(this).hasDropdown=!0,p(this).dropdownData=e.dropdown),e.showSelectActions&&(p(this).showSelectActions=!0),e.header&&(p(this).header=e.header))},setHeader:function(e){this.view.setHeader(e),this.view.setHeaderWidth(),this.getElement().removeModifier("list_only")},onViewReady:function(){p(this).data&&o.call(this),p(this).hasDropdown&&c.call(this),p(this).showSelectActions&&r.call(this),p(this).header&&this.setHeader(p(this).header),p(this).header||p(this).hasDropdown||this.getElement().setModifier("list_only")},onDOMAttach:function(){this.view.setHeaderWidth()},getItems:function(){return p(this).items},removeItem:function(e){var t=p(this).items[e];p(this).selectedItems.indexOf(t)!==-1&&p(this).selectedItems.splice(p(this).selectedItems.indexOf(t),1),p(this).items[e]&&p(this).items.splice(e,1),t.destroy()},clearSelection:function(e){p(this).items.forEach(function(e,t){e.isHighlighted()&&h.call(this,e,!0,!0)}.bind(this)),e||this.trigger("change")},selectAll:function(e){p(this).items.forEach(function(e,t){e.isHighlighted()||h.call(this,e,!1,!0)}.bind(this)),e!==!0&&this.trigger("change")},selectItem:function(e){e=parseInt(e),e>=0&&e<p(this).items.length&&h.call(this,p(this).items[e])},getSelected:function(){var e=[];return p(this).selectedItems.forEach(function(t,i){var n=t.options.data;n.index=d.call(this,t),e.push(n)}.bind(this)),e},addItem:function(e,t){var i=p(this).items,s=new n({data:e,color:this.options.color,list:this});if(void 0===t)i.push(s),s.attachTo(this.view.getContent());else{if(t<0||t>i.length)throw Error("Index specified is invalid");u.call(this,s,t),i.splice(t,0,s)}s.view.getBody().addEventHandler("click",function(e){if(e.originalEvent.preventDefault(),e.originalEvent.shiftKey&&p(this).previouslyHightlighted&&p(this).previouslyHightlighted!==s){e.preventDefault();var t=d.call(this,p(this).previouslyHightlighted),i=d.call(this,s),n=Math.max(t,i),l=Math.min(t,i),o=p(this).selectedItems.length,c=g.call(this),a=Math.min.apply(this,c),r=Math.max.apply(this,c),u=f(c);o>1&&u&&(i<a&&t===r||i>a&&t===a)&&h.call(this,p(this).items[t],!0,!0);for(var m=l;m<=n;m++)m!==i&&m!==t&&(u!==!0&&p(this).items[m].isHighlighted()||h.call(this,p(this).items[m],!0,!0));h.call(this,s,!0,!0),this.trigger("change")}else e.originalEvent.ctrlKey&&p(this).selectedItems.length>0?h.call(this,s,!0):(p(this).selectedItems.length>0&&p(this).selectedItems.indexOf(s)===-1&&this.clearSelection(!0),h.call(this,s))}.bind(this)),e.selected===!0&&h.call(this,s)},setItems:function(e){this.clear(),e.forEach(function(e){this.addItem(e)}.bind(this))},clear:function(){p(this).items.forEach(function(e){e.destroy()}.bind(this)),p(this).items=[],p(this).selectedItems=[]},getDropdown:function(){return this.dropdown},destroy:function(){this.clear(),e.prototype.destroy.call(this)}})}),define("widgets/SelectionList",["widgets/SelectionList/SelectionList"],function(e){return e});
/* Copyright (c) Ericsson 2019 */

define("styles!widgets/Notification/_notification.less",function(){return".elWidgets-Notification-label {\n  float: none;\n}\n"}),define("template!widgets/Notification/_notification.hbs",["jscore/handlebars/handlebars"],function(t){return t.template(function(t,i,e,o,n){function s(t,i){var o,n,s="";return s+=" ebNotification_closed ebNotification_color_",(n=e.color)?o=n.call(t,{hash:{}}):(n=t&&t.color,o=typeof n===u?n.call(t,{hash:{}}):n),s+=d(o)}function a(t,i){var e,o="";return o+='\n            <span class="ebNotification-icon">\n                <i class="ebIcon '+d((e=t&&t.icon,e=null==e||e===!1?e:e.prefix,typeof e===u?e.apply(t):e))+"_"+d((e=t&&t.icon,e=null==e||e===!1?e:e.name,typeof e===u?e.apply(t):e))+'"></i>\n            </span>\n        '}function l(t,i){var o,n="";return n+='\n            <span class="ebNotification-close">\n                <i class="ebIcon ebIcon_close',o=e.if.call(t,t&&t.color,{hash:{},inverse:p.noop,fn:p.program(6,c,i)}),(o||0===o)&&(n+=o),n+=' ebIcon_interactive"></i>\n            </span>\n        '}function c(t,i){var o,n,s="";return s+="_",(n=e.color)?o=n.call(t,{hash:{}}):(n=t&&t.color,o=typeof n===u?n.call(t,{hash:{}}):n),s+=d(o)}function r(t,i){var o,n;return(n=e.label)?o=n.call(t,{hash:{}}):(n=t&&t.label,o=typeof n===u?n.call(t,{hash:{}}):n),d(o)}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,t.helpers);var h,f="",u="function",d=this.escapeExpression,p=this;return f+='<div class="ebNotification elWidgets-Notification ',h=e.if.call(i,i&&i.color,{hash:{},inverse:p.noop,fn:p.program(1,s,n)}),(h||0===h)&&(f+=h),f+='">\n    <div class="ebNotification-content">',h=e.if.call(i,i&&i.icon,{hash:{},inverse:p.noop,fn:p.program(3,a,n)}),(h||0===h)&&(f+=h),h=e.if.call(i,i&&i.showCloseButton,{hash:{},inverse:p.noop,fn:p.program(5,l,n)}),(h||0===h)&&(f+=h),f+='<label class="ebNotification-label elWidgets-Notification-label">',h=e.if.call(i,i&&i.label,{hash:{},inverse:p.noop,fn:p.program(8,r,n)}),(h||0===h)&&(f+=h),f+="</label>\n    </div>\n</div>\n"})}),define("widgets/Notification/NotificationView",["jscore/core","template!./_notification.hbs","styles!./_notification.less"],function(t,i,e){"use strict";var o=t.View.extend({afterRender:function(){var t=this.getElement();this.icon=t.find("."+o.EL_ICON),this.label=t.find("."+o.EL_LABEL),this.close=t.find("."+o.EL_CLOSE)},getTemplate:function(){return i(this.options)},getStyle:function(){return e},getIcon:function(){return this.icon},getLabel:function(){return this.label},getCloseButton:function(){return this.close},hide:function(){this.closed=!0,this.getElement().setModifier(o.MOD_CLOSED)},show:function(){this.closed=!1,this.getElement().removeModifier(o.MOD_CLOSED)},isClosed:function(){return this.closed}},{EL_ICON:"ebNotification-icon",EL_LABEL:"ebNotification-label",EL_CLOSE:"ebNotification-close",MOD_CLOSED:"closed"});return o}),define("widgets/Notification/Notification",["jscore/core","widgets/WidgetCore","./NotificationView","../utils/parserUtils"],function(t,i,e,o){"use strict";return i.extend({view:function(){var t=this.options;return new e({label:t.label,color:t.color,icon:o.parseIcons(t.icon),showCloseButton:t.showCloseButton})},init:function(){this.detachTimeout=null,this.autoDismiss=void 0===this.options.autoDismiss||this.options.autoDismiss,this.plainText=void 0!==this.options.plainText&&this.options.plainText},onViewReady:function(){var i=this.options;if(i.showCloseButton&&this.view.getCloseButton().addEventHandler("click",this.close,this),(i.showAsToast||i.showAsGlobalToast)&&this.getElement().setModifier("toast"),i.showAsGlobalToast&&(this.autoDismiss=!0,this.attachTo(t.Element.wrap(document.body)),this.attachTo=function(){}),this.autoDismiss){var e=parseInt(i.autoDismissDuration,10)||1e4;setTimeout(this.close.bind(this),e+600)}i.width&&this.view.getLabel().setStyle("width",i.width+"px"),i.label&&this.setLabel(i.label)},onDOMAttach:function(){var t=this.options;if(t.label&&(t.icon||t.showCloseButton)){var i=0;t.icon&&(i+=this.view.getIcon().getProperty("offsetWidth")),t.showCloseButton&&(i+=this.view.getCloseButton().getProperty("offsetWidth")),this.view.getLabel().setStyle("max-width","calc(100% - "+i+"px)")}this.view.show()},setLabel:function(t){var i=this.view.getLabel();if(i.setText(t),!this.plainText){var e=i.getProperty("innerHTML");e=e.replace(/\[(.*?)\]\((.*?)\)/g,'<a href="$2">$1</a>'),i.setProperty("innerHTML",e)}},close:function(t){var i=!t||t.animate!==!1;this.detachTimeout&&clearTimeout(this.detachTimeout),i&&!this.view.isClosed()?this.detachTimeout=setTimeout(function(){this.detach()}.bind(this),700):this.detach(),this.view.hide(),this.trigger("close")}})}),define("widgets/Notification",["widgets/Notification/Notification"],function(t){return t});
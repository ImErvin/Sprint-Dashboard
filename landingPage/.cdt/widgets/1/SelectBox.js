/* Copyright (c) Ericsson 2019 */

define("text!widgets/SelectBox/_selectBox.html",function(){return'<div class="ebSelect">\n    <button type="button" class="ebSelect-header">\n        <span class="ebSelect-value"></span>\n        <span class="ebSelect-iconHolder"><i class="ebIcon ebIcon_small ebIcon_downArrow_10px"></i></span>\n    </button>\n</div>'}),define("widgets/SelectBox/SelectBoxView",["jscore/core","text!./_selectBox.html"],function(e,t){"use strict";var i=e.View.extend({afterRender:function(){this.value=this.getElement().find("."+i.EL_VALUE),this.button=this.getElement().find("."+i.EL_HEADER)},getTemplate:function(){return t},getRoot:function(){return this.getElement()},getValueEl:function(){return this.value},getButton:function(){return this.button}},{EL_VALUE:"ebSelect-value",EL_HEADER:"ebSelect-header"});return i}),define("widgets/SelectBox/SelectBox",["widgets/ItemsControl","./SelectBoxView","jscore/ext/privateStore"],function(e,t,i){"use strict";var n=i.create();return e.extend({View:t,onInit:function(){this.setOption("selectMode","single"),this.setOption("quickItemFocus",!0)},onControlReady:function(){this.view.getValueEl().setText(this.options.placeholder||""),this.options.value&&this.setValue(this.options.value)},getFocusableElement:function(){return this.getElement().find("button")},onEnable:function(){this.view.getButton().removeAttribute("disabled")},onDisable:function(){this.view.getButton().setAttribute("disabled","disabled")},setValue:function(e){var t="";e!=={}&&(t=e.name),n(this).selectedItem=e,this.view.getValueEl().setText(t),this.setFocusedItem(e),this.setSelectedItem(e)},getValue:function(){return n(this).selectedItem||{}},onItemSelected:function(e){void 0!==e.value?e.value!==this.getValue().value&&(this.setValue(e),this.trigger("change")):void 0!==e.name&&e.name!==this.getValue().name&&(this.setValue(e),this.trigger("change"))},setBoxSize:function(e){["miniW","smallW","longW","xLongW"].indexOf(e)>-1&&(e=e.replace("W",""));var t=["mini","small","long","xLong","full"];t.indexOf(e)!==-1?(this.view.getRoot().setModifier("width",e),"full"===e&&this.getElement().setModifier("width","full"),n(this).currentInputSize=e):this.currentInputSize&&(this.view.getRoot().removeModifier("width"),this.getElement().removeModifier("width"),n(this).currentInputSize="")},reset:function(){this.view.getValueEl().setText(this.options.placeholder||""),this.clearSelection(),delete n(this).selectedItem},restore:function(){var e=this.options.value;e?this.setValue(e):this.reset()}})}),define("widgets/SelectBox",["widgets/SelectBox/SelectBox"],function(e){return e});
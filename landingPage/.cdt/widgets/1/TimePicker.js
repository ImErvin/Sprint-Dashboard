/* Copyright (c) Ericsson 2019 */

define("text!widgets/TimePicker/_timePicker.html",function(){return'<div data-namespace="ebTimePicker"></div>'}),define("widgets/TimePicker/TimePickerView",["jscore/core","text!./_timePicker.html"],function(e,i){"use strict";return e.View.extend({getTemplate:function(){return i},getRoot:function(){return this.getElement()}})}),define("widgets/TimePicker/TimePicker",["widgets/WidgetCore","./TimePickerView","widgets/Spinner","widgets/utils/datePickerUtils","jscore/ext/utils"],function(e,i,n,s,t){"use strict";function r(e){e&&(e.attachTo(this.getElement()),e.addEventHandler("change",o.bind(this)))}function o(){this.trigger("change",this.getValue())}return e.extend({View:i,init:function(e){e=t.clone(e||{},!0),e.spinners=e.spinners||{};var i={showHours:!0,showMinutes:!0,showSeconds:!0,hours:0,minutes:0,seconds:0,labels:{hours:"h",minutes:"m",seconds:"s"},spinners:{hours:{step:1,readonly:!1,min:0,max:23,minNumberDigitsFormat:2},minutes:{step:1,readonly:!1,min:0,max:59,minNumberDigitsFormat:2},seconds:{step:1,readonly:!1,min:0,max:59,minNumberDigitsFormat:2}}};t.extend(i,e,!0),i.showHours&&(this._hoursSpinner=this._buildSpinner(i,"hours")),i.showMinutes&&(this._minutesSpinner=this._buildSpinner(i,"minutes")),i.showSeconds&&(this._secondsSpinner=this._buildSpinner(i,"seconds"))},onViewReady:function(){r.call(this,this._hoursSpinner),r.call(this,this._minutesSpinner),r.call(this,this._secondsSpinner)},onDestroy:function(){this._hoursSpinner&&this._hoursSpinner.destroy(),this._minutesSpinner&&this._minutesSpinner.destroy(),this._secondsSpinner&&this._secondsSpinner.destroy()},setValue:function(e,i,n){var s=this.getValue(),t=void 0!==this._hoursSpinner,r=void 0!==this._minutesSpinner,u=void 0!==this._secondsSpinner;e=e||0,i=i||0,n=n||0,t&&this._hoursSpinner.setValue(e),r&&this._minutesSpinner.setValue(i),u&&this._secondsSpinner.setValue(n),(t&&s.hours!==e||r&&s.minutes!==i||u&&s.seconds!==n)&&o.call(this)},getValue:function(){return{hours:this._hoursSpinner&&this._hoursSpinner.getValue(),minutes:this._minutesSpinner&&this._minutesSpinner.getValue(),seconds:this._secondsSpinner&&this._secondsSpinner.getValue()}},_getValueAsString:function(){var e=this.getValue(),i=void 0!==e.seconds,n=new Date;return i?n.setHours(e.hours,e.minutes,e.seconds):n.setHours(e.hours,e.minutes),s.formatDatetime(n,i?"TS":"T","international")},_getPlaceholder:function(e){var i=void 0!==this._secondsSpinner;return e=e||{},s.formatDatetime(new Date(33,10,22,23,24,25),i?"TS":"T","international").replace("23",e.hh||"hh").replace("24",e.mm||"mm").replace("25",e.ss||"ss")},_buildSpinner:function(e,i){var s=e.spinners[i];return new n({value:e[i],min:s.min,max:s.max,step:s.step,readonly:s.readonly,minNumberDigitsFormat:s.minNumberDigitsFormat,postfix:e.labels[i]})}})}),define("widgets/TimePicker",["widgets/TimePicker/TimePicker"],function(e){return e});
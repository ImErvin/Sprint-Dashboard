/* Copyright (c) Ericsson 2018 */

define("layouts/ext/utils",["jscore/core"],function(t){"use strict";return{attachUIElement:function(n,e){n instanceof t.Widget?n.attachTo(e):n instanceof t.Region&&n.start(e)},closeUIElement:function(n){n instanceof t.Widget?n.destroy():n instanceof t.Region&&n.stop()}}}),define("styles!layouts/top_section/topSection.less",function(){return'.elLayouts {\n  /* Firefox < 16 */\n\n  /* Safari, Chrome and Opera > 12.1 */\n\n  /* Internet Explorer */\n\n  /* Opera < 12.1 */\n\n}\n.elLayouts-clearFix {\n  clear: both;\n}\n.elLayouts-Wrapper {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n}\n.elLayouts-Wrapper-backToTop {\n  z-index: 1;\n  position: fixed;\n  border: solid 1px #ccc;\n  background: #efefef;\n  padding: 5px;\n  box-shadow: 0 0 3px #ccc;\n  border-radius: 5px;\n  bottom: -30px;\n  opacity: 0;\n  right: 55px;\n  cursor: pointer;\n  -webkit-transition: bottom 0.5s, opacity 0.3s, right 0.6s ease-in-out;\n  transition: bottom 0.5s, opacity 0.3s, right 0.6s ease-in-out;\n}\n.elLayouts-Wrapper-backToTop_show_true {\n  bottom: 10px;\n  opacity: 1;\n  display: block;\n}\n.elLayouts-TopSection {\n  position: relative;\n  margin-left: 40px;\n  margin-right: 40px;\n  /*\n        this is a workaround for an issue found on iPad in\n        which the content disappears when scrolling\n        http://stackoverflow.com/a/21024100\n        */\n\n  z-index: 1;\n  display: block;\n  /* END */\n\n}\n@media screen and (max-width: 768px) {\n  .elLayouts-TopSection {\n    margin-left: 2.4rem;\n    margin-right: 2.4rem;\n  }\n}\n@media screen and (max-width: 480px) {\n  .elLayouts-TopSection {\n    margin-left: 1.2rem;\n    margin-right: 1.2rem;\n  }\n}\n.elLayouts-AppHeading {\n  margin-bottom: 12px;\n}\n.elLayouts-QuickActionBar {\n  position: relative;\n  height: 32px;\n}\n.elLayouts-QuickActionBar-loader {\n  display: none;\n  margin: 8px;\n  -webkit-animation: elLayouts-fadein 1s;\n  /* Safari, Chrome and Opera > 12.1 */\n\n  animation: elLayouts-fadein 1s;\n}\n.elLayouts-QuickActionBar_loading .elLayouts-QuickActionBar-defaultCommands,\n.elLayouts-QuickActionBar_loading .elLayouts-QuickActionBar-contextCommands {\n  display: none;\n}\n.elLayouts-QuickActionBar_loading .elLayouts-QuickActionBar-loader {\n  display: block;\n}\n.elLayouts-QuickActionBar_position_fixed {\n  position: fixed;\n  top: 45px;\n  left: 0;\n  right: 0;\n  z-index: 10;\n  width: 100%;\n  max-width: 100%;\n}\n.elLayouts-QuickActionBar_position_fixed .elLayouts-QuickActionBar-contents {\n  -webkit-border-radius: 0px;\n  -moz-border-radius: 0px;\n  -ms-border-radius: 0px;\n  border-radius: 0px;\n  border-bottom: 1px solid #CCCCCC;\n}\n.elLayouts-QuickActionBar-contents {\n  height: 32px;\n  padding: 0.4rem 0;\n  background-color: #e8e8e8;\n  position: relative;\n  width: 100%;\n  overflow: hidden;\n  line-height: 0;\n  box-sizing: border-box;\n  -webkit-transition: background-color 0.1s ease-in;\n  transition: background-color 0.1s ease-in;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  -ms-border-radius: 3px;\n  border-radius: 3px;\n}\n.elLayouts-QuickActionBar-center {\n  overflow: hidden;\n}\n.elLayouts-QuickActionBar-defaultCommands {\n  opacity: 1;\n  -webkit-transition: opacity 0.1s linear, transform 0.1s linear;\n  transition: opacity 0.1s linear, transform 0.1s linear;\n  -webkit-transform: translateY(0);\n  transform: translateY(0);\n  z-index: 1;\n}\n.elLayouts-QuickActionBar-contextCommands {\n  opacity: 0;\n  -webkit-transform: translateY(4px);\n  transform: translateY(4px);\n  -webkit-transition: opacity 0.1s linear, transform 0.1s linear;\n  transition: opacity 0.1s linear, transform 0.1s linear;\n}\n.elLayouts-QuickActionBar_context .elLayouts-QuickActionBar-contents {\n  background-color: #f3f3f3;\n  border-bottom: 2px solid #65cbe5;\n  box-sizing: border-box;\n  height: 32px;\n}\n.elLayouts-QuickActionBar_context .elLayouts-QuickActionBar-defaultCommands {\n  opacity: 0;\n  -webkit-transform: translateY(-4px);\n  transform: translateY(-4px);\n  z-index: auto;\n}\n.elLayouts-QuickActionBar_context .elLayouts-QuickActionBar-contextCommands {\n  opacity: 1;\n  -webkit-transform: translateY(0);\n  transform: translateY(0);\n  z-index: 1;\n}\n.elLayouts-QuickActionBar_context:after {\n  content: "";\n  width: calc(100% - 6px);\n  height: 2px;\n  margin: 30px 0 0 3px;\n  display: block;\n  position: absolute;\n  border-radius: 2px;\n  z-index: -1;\n}\n.elLayouts-QuickActionBar-iconHolder {\n  display: inline-block;\n  vertical-align: middle;\n  height: 1.6rem;\n}\n.elLayouts-QuickActionBar-separator {\n  display: inline-block;\n  vertical-align: middle;\n  border-left: 1px solid #CCCCCC;\n  margin: 0;\n  height: 2.4rem;\n}\n.elLayouts-QuickActionBar-breadcrumb {\n  height: 2.4rem;\n  float: left;\n}\n.elLayouts-QuickActionBar-commands {\n  display: inline-block;\n  margin: 0;\n  position: absolute;\n}\n.elLayouts-QuickActionBar-commands-separator {\n  display: inline-block;\n  vertical-align: middle;\n  border-left: 1px solid #CCCCCC;\n  margin: 0 8px;\n  height: 2.4rem;\n}\n.elLayouts-QuickActionBar-commandsBlock {\n  vertical-align: middle;\n  display: inline-block;\n}\n.elLayouts-QuickActionBar-commands_show_false {\n  display: none;\n}\n.elLayouts-QuickActionBar-left,\n.elLayouts-QuickActionBar-leftSeparator {\n  float: left;\n  height: 100%;\n}\n.elLayouts-QuickActionBar-left:empty ~ .elLayouts-QuickActionBar-leftSeparator,\n.elLayouts-QuickActionBar-right:empty ~ .elLayouts-QuickActionBar-rightSeparator {\n  display: none;\n}\n.elLayouts-QuickActionBar-right,\n.elLayouts-QuickActionBar-rightSeparator {\n  float: right;\n  height: 100%;\n}\n.elLayouts-QuickActionBar-left:not(:empty) {\n  margin-left: 5px;\n}\n.elLayouts-QuickActionBar-right {\n  margin-right: 5px;\n}\n@keyframes elLayouts-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-moz-keyframes elLayouts-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes elLayouts-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-ms-keyframes elLayouts-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-o-keyframes elLayouts-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@keyframes elLayouts-fadeout {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@-moz-keyframes elLayouts-fadeout {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@-webkit-keyframes elLayouts-fadeout {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@-ms-keyframes elLayouts-fadeout {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@-o-keyframes elLayouts-fadeout {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n'}),define("text!layouts/top_section/topSection.html",function(){return'<div class="elLayouts-Wrapper">\r\n    <div class="elLayouts-TopSection">\r\n        <div class="ebLayout-Navigation"></div>\r\n        <div class="ebLayout-AppHeading elLayouts-AppHeading">\r\n            <h1 class="elLayouts-TopSection-title"></h1>\r\n        </div>\r\n        <div class="elLayouts-QuickActionBarWrapper">\r\n            <div class="elLayouts-QuickActionBar">\r\n                <div class="elLayouts-QuickActionBar-contents">\r\n                    <div class="elLayouts-QuickActionBar-breadcrumb"></div>\r\n                    <div class="elLayouts-QuickActionBar-left"></div>\r\n                    <div class="elLayouts-QuickActionBar-leftSeparator"></div>\r\n                    <div class="elLayouts-QuickActionBar-right"></div>\r\n                    <div class="elLayouts-QuickActionBar-rightSeparator"></div>\r\n                    <div class="elLayouts-QuickActionBar-center">\r\n                        <div class="elLayouts-QuickActionBar-commands elLayouts-QuickActionBar-defaultCommands"></div>\r\n                        <div class="elLayouts-QuickActionBar-commands elLayouts-QuickActionBar-contextCommands"></div>\r\n                        <div class="elLayouts-QuickActionBar-loader"><span class="ebLoader-Dots ebLoader-Dots_size_small"></span></div>\r\n                    </div>\r\n                    <div class="elLayouts-clearFix"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="elLayouts-TopSection-placeholder"></div>\r\n    </div>\r\n    <div class="elLayouts-Wrapper-backToTop">\r\n        <i class="ebIcon ebIcon_upArrowLarge"></i>\r\n    </div>\r\n</div>\r\n'}),define("layouts/top_section/TopSectionView",["jscore/core","text!./topSection.html","styles!./topSection.less"],function(t,n,e){"use strict";var i=".elLayouts-QuickActionBar",o=".elLayouts-TopSection";return t.View.extend({getTemplate:function(){return n},getStyle:function(){return e},setTitle:function(t){this.getElement().find(".ebLayout-AppHeading h1").setText(t)},getTitle:function(){return this.getElement().find(".ebLayout-AppHeading")},getTopSection:function(){return this.getElement().find(o)},getBreadcrumb:function(){return this.getElement().find(".ebLayout-Navigation")},getDropdown:function(){return this.getElement().find(".ebDropdown-body")},getActionBarWrapper:function(){return this.getElement().find(i+"Wrapper")},getActionBar:function(){return this.getElement().find(i)},getActionBarBreadcrumb:function(){return this.getElement().find(i+"-breadcrumb")},getActionBarContents:function(){return this.getElement().find(i+"-contents")},getCommandsPlaceholder:function(t){return"defaultActions"===t?this.getDefaultCommands():this.getContextCommands()},removeAllActions:function(){this.getFullViewActionContainer().children().forEach(function(t){t.detach()})},getPlaceholder:function(){return this.getElement().find(o+"-placeholder")},getLeftPlaceholder:function(){return this.getElement().find(i+"-left")},getLeftSeparator:function(){return this.getElement().find(i+"-leftSeparator")},getRightSeparator:function(){return this.getElement().find(i+"-rightSeparator")},getRightPlaceholder:function(){return this.getElement().find(i+"-right")},getBackToTop:function(){return this.getElement().find(".elLayouts-Wrapper-backToTop")},getTopComponent:function(){return this.getElement().find(i+"-component")},showCommandsPlaceholder:function(){this.getCommandsPlaceholder().removeModifier("show")},hideCommandsPlaceholder:function(){this.getCommandsPlaceholder().setModifier("show","false")},getDefaultCommands:function(){return this.getElement().find(i+"-defaultCommands")},getContextCommands:function(){return this.getElement().find(i+"-contextCommands")},getActionBarLoader:function(){return this.getElement().find(i+"-loader")}})}),define("layouts/ext/ext.dom",["jscore/base/jquery","jscore/core"],function(t,n){function e(){var t;return t=navigator.userAgent.indexOf("Gecko/")!==-1?"Firefox":navigator.userAgent.indexOf("Trident/")!==-1?"MSIE":"WebKit"}function i(){var t,n=document.createElement("div"),e={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in e)if(e.hasOwnProperty(t)&&void 0!==n.style[t])return e[t];return"webkitTransitionEnd"}var o={WebKit:"webkitAnimationEnd",Firefox:"animationend",MSIE:"animationend"},a={transitionEventName:i(),animEndEventName:o[e()],getWindowDimensions:function(){return{width:window.innerWidth,height:window.innerHeight}},getScrollbarWidth:function(t){var n=document.createElement("div");n.style.visibility="hidden",n.style.width="100px",n.style.msOverflowStyle="scrollbar",document.body.appendChild(n);var e=n.offsetWidth;t&&n.setAttribute("class","eb_scrollbar"),n.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",n.appendChild(i);var o=i.offsetWidth;return n.parentNode.removeChild(n),e-o},animate:function(n,e,i,o){t(n._getHTMLElement()).animate(e,i,o)},position:function(n){return t(n._getHTMLElement()).position()},offset:function(n){return t(n._getHTMLElement()).offset()},outerWidth:function(n,e){return t(n._getHTMLElement()).outerWidth(!!e)}};return a}),define("styles!layouts/top_section/action_bar_breadcrumb/actionBarBreadcrumb.less",function(){return'.elLayouts-ActionBarBreadcrumb {\n  position: relative;\n  display: inline-block;\n  margin-left: 0;\n  height: 2.45rem;\n  width: 0;\n  float: left;\n  -webkit-transition: none;\n  transition: none;\n}\n.elLayouts-ActionBarBreadcrumb_show_true {\n  width: 2.45rem;\n  margin-left: 0.4rem;\n  -webkit-transition: margin-left 0.1s, width 0.1s;\n  transition: margin-left 0.1s, width 0.1s;\n}\n.elLayouts-ActionBarBreadcrumb-button {\n  position: relative;\n  background: url("layouts/1/resources/layouts/top_section/action_bar_breadcrumb/breadcrumbDropdown.svg") no-repeat center;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  border-radius: 1.2rem;\n  opacity: .8;\n}\n.elLayouts-ActionBarBreadcrumb-button:hover {\n  opacity: 1;\n}\n'}),define("text!layouts/top_section/action_bar_breadcrumb/actionBarBreadcrumb.html",function(){return'<div class="elLayouts-ActionBarBreadcrumb">\r\n    <div class="elLayouts-ActionBarBreadcrumb-button"></div>\r\n</div>\r\n'}),define("layouts/top_section/action_bar_breadcrumb/ActionBarBreadcrumbView",["jscore/core","text!./actionBarBreadcrumb.html","styles!./actionBarBreadcrumb.less"],function(t,n,e){"use strict";return t.View.extend({getTemplate:function(){return n},getStyle:function(){return e},getButton:function(){return this.getElement().find(".elLayouts-ActionBarBreadcrumb-button")}})}),define("layouts/top_section/action_bar_breadcrumb/ActionBarBreadcrumb",["jscore/core","widgets/ItemsControl","./ActionBarBreadcrumbView"],function(t,n,e){return n.extend({View:e,onInit:function(){this.setOption("width","auto"),this.setOption("animate",!0)},onListShow:function(){this.hideTimeout&&clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(this.hideList.bind(this),1e4)},show:function(){this.getElement().setModifier("show","true")},hide:function(){this.getElement().setModifier("show","false")}})}),define("text!layouts/top_section/action_bar_loader/_actionBarLoader.html",function(){return'<div class="ebLoader-Dots ebLoader-Dots_size_small"></div>\r\n'}),define("layouts/top_section/action_bar_loader/ActionBarLoaderView",["jscore/core","text!./_actionBarLoader.html"],function(t,n){"use strict";return t.View.extend({getTemplate:function(){return n}})}),define("layouts/top_section/action_bar_loader/ActionBarLoader",["jscore/core","./ActionBarLoaderView"],function(t,n){return t.Widget.extend({View:n,init:function(t){}})}),define("styles!layouts/top_section/action_bar_dropdown/actionBarDropdown.less",function(){return".elLayouts-ActionBarDropdown {\n  padding: 0 6px;\n  display: inline;\n  white-space: nowrap;\n  vertical-align: top;\n  margin-top: -1px;\n}\n"}),define("text!layouts/top_section/action_bar_dropdown/actionBarDropdown.html",function(){return'<div class="elLayouts-ActionBarDropdown"></div>'}),define("layouts/top_section/action_bar_dropdown/ActionBarDropdownView",["jscore/core","text!./actionBarDropdown.html","styles!./actionBarDropdown.less"],function(t,n,e){"use strict";return t.View.extend({getTemplate:function(){return n},getStyle:function(){return e}})}),define("layouts/top_section/action_bar_dropdown/ActionBarDropdown",["jscore/core","./ActionBarDropdownView","widgets/Dropdown"],function(t,n,e){return t.Widget.extend({View:n,init:function(t){this.items=t.options.items,this.dropdown=new e(t.options)},onViewReady:function(){this.dropdown.attachTo(this.getElement())},updateAction:function(t,n){this.items.forEach(function(e){e.name===t.name&&(void 0!==n.name&&(e.name=n.name),void 0!==n.disabled&&(e.disabled=n.disabled),void 0!==n.icon&&(e.icon=n.icon),n.action&&(e.action=n.action))});var e=this.dropdown.isListShowing();this.dropdown.setItems(this.items),e&&this.dropdown.showList()}})}),define("styles!layouts/top_section/action_bar_separator/actionBarSeparator.less",function(){return".elLayouts-actionBarSeparator {\n  display: inline-block;\n  white-space: nowrap;\n  vertical-align: middle;\n  width: 1px;\n  height: 24px;\n  background-color: #CCC;\n  margin: 0 6px;\n  font-size: 2.4rem;\n}\n"}),define("text!layouts/top_section/action_bar_separator/actionBarSeparator.html",function(){return'<div class="elLayouts-actionBarSeparator"></div>\r\n'}),define("layouts/top_section/action_bar_separator/ActionBarSeparatorView",["jscore/core","text!./actionBarSeparator.html","styles!./actionBarSeparator.less"],function(t,n,e){"use strict";return t.View.extend({getTemplate:function(){return n},getStyle:function(){return e}})}),define("layouts/top_section/action_bar_separator/ActionBarSeparator",["jscore/core","./ActionBarSeparatorView"],function(t,n){return t.Widget.extend({View:n,init:function(t){}})}),define("styles!layouts/top_section/action_bar_button/_actionBarButton.less",function(){return".elLayouts-ActionBarButton {\n  margin: 0 6px;\n  white-space: nowrap;\n}\n.elLayouts-ActionBarButton-text {\n  vertical-align: middle;\n}\n.elLayouts-ActionBarButton-text:last-child {\n  margin-left: 3px;\n}\n.elLayouts-ActionBarButton-text:first-child {\n  margin-right: 3px;\n}\n"}),define("template!layouts/top_section/action_bar_button/_actionBarButtonSpan.hbs",["jscore/handlebars/handlebars"],function(t){return t.template(function(t,n,e,i,o){this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,t.helpers);var a,r,s="",c="function",l=this.escapeExpression;return s+='<span class="elLayouts-ActionBarButton-text">',(r=e.name)?a=r.call(n,{hash:{}}):(r=n&&n.name,a=typeof r===c?r.call(n,{hash:{}}):r),s+=l(a)+"</span>"})}),define("template!layouts/top_section/action_bar_button/_actionBarButtonIcon.hbs",["jscore/handlebars/handlebars"],function(t){return t.template(function(t,n,e,i,o){function a(t,n){return"ebIcon_disabled"}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,t.helpers);var r,s,c="",l="function",u=this.escapeExpression,d=this;return c+='<i class="ebIcon ebIcon_',(s=e.icon)?r=s.call(n,{hash:{}}):(s=n&&n.icon,r=typeof s===l?s.call(n,{hash:{}}):s),c+=u(r)+" ",r=e.if.call(n,n&&n.disabled,{hash:{},inverse:d.noop,fn:d.program(1,a,o)}),(r||0===r)&&(c+=r),c+=' elLayouts-ActionBarButton-icon"></i>\r\n'})}),define("template!layouts/top_section/action_bar_button/_actionBarButton.hbs",["jscore/handlebars/handlebars"],function(t){return t.template(function(t,n,e,i,o){function a(t,n){var i,o,a="";return a+='<a href="',(o=e.link)?i=o.call(t,{hash:{}}):(o=t&&t.link,i=typeof o===m?o.call(t,{hash:{}}):o),a+=g(i)+'"'}function r(t,n){return'<button type="button"'}function s(t,n){return'\r\n    class="ebBtn ebBtn_subtle elLayouts-ActionBarButton"\r\n    '}function c(t,n){var i,o="";return o+='\r\n    class="ebBtn ',i=e.if.call(t,t&&t.color,{hash:{},inverse:b.noop,fn:b.program(8,l,n)}),(i||0===i)&&(o+=i),o+=' elLayouts-ActionBarButton"\r\n    '}function l(t,n){var i,o,a="";return a+="ebBtn_color_",(o=e.color)?i=o.call(t,{hash:{}}):(o=t&&t.color,i=typeof o===m?o.call(t,{hash:{}}):o),a+=g(i)}function u(t,n){return'disabled="disabled"'}function d(t,n){return"</a>"}function h(t,n){return"</button>"}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,t.helpers);var p,f="",m="function",g=this.escapeExpression,b=this;return p=e.if.call(n,n&&n.link,{hash:{},inverse:b.program(3,r,o),fn:b.program(1,a,o)}),(p||0===p)&&(f+=p),p=e.if.call(n,n&&n.flat,{hash:{},inverse:b.program(7,c,o),fn:b.program(5,s,o)}),(p||0===p)&&(f+=p),f+="\r\n    ",p=e.if.call(n,n&&n.disabled,{hash:{},inverse:b.noop,fn:b.program(10,u,o)}),(p||0===p)&&(f+=p),f+=">",p=e.if.call(n,n&&n.link,{hash:{},inverse:b.program(14,h,o),fn:b.program(12,d,o)}),(p||0===p)&&(f+=p),f})}),define("layouts/top_section/action_bar_button/ActionBarButtonView",["jscore/core","template!./_actionBarButton.hbs","template!./_actionBarButtonIcon.hbs","template!./_actionBarButtonSpan.hbs","styles!./_actionBarButton.less"],function(t,n,e,i,o){"use strict";return t.View.extend({getTemplate:function(){return n(this.options)},getStyle:function(){return o},setIconPosition:function(t,n){var e=this.getElement();void 0===t||"right"!==t?e.prepend(n):e.append(n)},addIconElement:function(n){var i,o=n.icon.position||"left";i="object"==typeof n.icon?t.Element.parse(e({icon:n.icon.name,disabled:n.disabled})):t.Element.parse(e(n)),this.setIconPosition(o,i)},addSpanElement:function(n){var e=t.Element.parse(i(n));this.getElement().append(e)},getButton:function(){return this.getElement()},getButtonText:function(){var t=this.getElement();return this.getButtonIcon()?t.find(".elLayouts-ActionBarButton-text"):t},getButtonIcon:function(){return this.getButton().find(".ebIcon")}})}),define("layouts/top_section/action_bar_button/ActionBarButton",["jscore/core","./ActionBarButtonView"],function(t,n){function e(t,n,e){t.removeModifier(n,"ebIcon"),t.setModifier(e,"","ebIcon")}return t.Widget.extend({view:function(){return new n(this.options)},onViewReady:function(){var t=this.options,n=this.getElement();n.addEventHandler("click",function(n){t.link||n.preventDefault();var e=t.action;e&&e()});var e=t.icon,i=t.name,o=t.tooltip;if(o&&"string"==typeof o&&n.setAttribute("title",o),e){var a=this.view;a.addSpanElement({name:i}),a.addIconElement({flat:t.flat,icon:e,disabled:t.disabled})}else n.setText(i)},updateAction:function(t,n){var i,o=this.view,a=o.getButton(),r=o.getButtonIcon(),s=this.options,c=n.tooltip;if(t.name===s.name){void 0!==n.name&&o.getButtonText().setText(n.name),void 0!==n.disabled&&(a.setProperty("disabled",n.disabled),void 0!==r&&(n.disabled?r.setModifier("disabled"):r.removeModifier("disabled"))),c&&"string"==typeof c?a.setAttribute("title",c):a.removeAttribute("title"),void 0!==n.color&&a.setModifier("color",n.color,"ebBtn");var l=n.icon;if(void 0!==l)if(void 0===r&&l!==!1)i=o.getButtonText().getText(),this.getElement().setText(""),o.addSpanElement({name:i}),o.addIconElement({flat:s.flat,icon:l,disabled:void 0!==n.disabled?n.disabled:s.disabled}),s.icon=l;else if(void 0!==r&&l===!1)i=o.getButtonText().getText(),r.remove(),this.getElement().setText(i),s.icon=l;else if(s.icon!==l){var u=s.icon;if("object"==typeof l){var d=l.name,h=u.name,p=l.position,f=u.position;d&&h!==d&&(e(r,h,d),u.name=d),p&&f!==p&&(o.setIconPosition(p,r),u.position=p)}else e(r,u,l),s.icon=l}void 0!==n.action&&(s.action=n.action)}}})}),define("styles!layouts/top_section/action_bar_item/actionBarItem.less",function(){return".elLayouts-ActionBarItem {\n  line-height: 24px;\n  padding: 0 6px;\n  display: inline;\n  white-space: nowrap;\n  vertical-align: middle;\n}\n.elLayouts-ActionBarItem[disabled] {\n  cursor: not-allowed;\n  color: #b0b0af;\n}\n.elLayouts-ActionBarItem[disabled]:hover {\n  color: #b0b0af;\n  text-decoration: none;\n}\n"}),define("template!layouts/top_section/action_bar_item/actionBarItem.html",["jscore/handlebars/handlebars"],function(t){return t.template(function(t,n,e,i,o){function a(t,n){return'disabled="disabled"'}function r(t,n){var i,o,a="";return a+='href="',(o=e.link)?i=o.call(t,{hash:{}}):(o=t&&t.link,i=typeof o===u?o.call(t,{hash:{}}):o),a+=d(i)+'"'}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,t.helpers);var s,c,l="",u="function",d=this.escapeExpression,h=this;return l+='<a class="elLayouts-ActionBarItem" ',s=e.if.call(n,n&&n.disabled,{hash:{},inverse:h.program(3,r,o),fn:h.program(1,a,o)}),(s||0===s)&&(l+=s),l+=' title="',(c=e.name)?s=c.call(n,{hash:{}}):(c=n&&n.name,s=typeof c===u?c.call(n,{hash:{}}):c),l+=d(s)+'">',(c=e.name)?s=c.call(n,{hash:{}}):(c=n&&n.name,s=typeof c===u?c.call(n,{hash:{}}):c),l+=d(s)+"</a>\r\n"})}),define("layouts/top_section/action_bar_item/ActionBarItemView",["jscore/core","template!./actionBarItem.html","styles!./actionBarItem.less"],function(t,n,e){"use strict";return t.View.extend({getTemplate:function(){return n(this.options)},getStyle:function(){return e}})}),define("layouts/top_section/action_bar_item/ActionBarItem",["jscore/core","./ActionBarItemView"],function(t,n){return t.Widget.extend({view:function(){return new n(this.options)},onViewReady:function(){this.options.action&&!this.options.disabled&&this.getElement().addEventHandler("click",function(t){t.preventDefault(),this.options.action.apply(this.options.action,arguments)}.bind(this))}})}),define("styles!layouts/top_section/action_bar_items/actionBarItems.less",function(){return".elLayouts-QuickActionBar-items {\n  position: relative;\n  white-space: nowrap;\n}\n.elLayouts-QuickActionBar-items_fadeIn {\n  -webkit-animation: elLayouts-fadein 0.5s;\n  /* Safari, Chrome and Opera > 12.1 */\n\n  animation: elLayouts-fadein 0.5s;\n}\n.elLayouts-QuickActionBar-items_fadeout {\n  -webkit-animation: elLayouts-fadeout 0.2s;\n  /* Safari, Chrome and Opera > 12.1 */\n\n  animation: elLayouts-fadeout 0.2s;\n}\n"}),define("text!layouts/top_section/action_bar_items/actionBarItems.html",function(){return'<div class="elLayouts-QuickActionBar-items"></div>\r\n'}),define("layouts/top_section/action_bar_items/ActionBarItemsView",["jscore/core","text!./actionBarItems.html","styles!./actionBarItems.less"],function(t,n,e){"use strict";return t.View.extend({getTemplate:function(){return n},getStyle:function(){return e}})}),define("layouts/top_section/action_bar_items/ActionBarItems",["jscore/core","./ActionBarItemsView","../action_bar_item/ActionBarItem","../action_bar_button/ActionBarButton","../action_bar_separator/ActionBarSeparator","../action_bar_dropdown/ActionBarDropdown","../action_bar_loader/ActionBarLoader","jscore/ext/utils","jscore/ext/utils/base/underscore"],function(t,n,e,i,o,a,r,s,c){function l(t){return t.map(function(t){return"dropdown"===t.type?t.options.caption:void 0!==t.name?t.name:"separator"})}function u(t,n){return t.length===n.length&&t.every(function(t,e){return t===n[e]})}function d(){document.body.appendChild(this.getElement().getNative()),this.shownActions.forEach(function(t){t.width=S(t.instance.getElement())}),this.dropDownWidth=S(this.dropdown.getElement()),document.body.removeChild(this.getElement().getNative())}function h(){void 0!==this.redrawTimeout&&(cancelAnimationFrame(this.redrawTimeout),delete this.redrawTimeout)}function p(){h.call(this),this.redrawTimeout=requestAnimationFrame(T.bind(this))}function f(){return this.shownActions.reduce(function(t,n){return t+n.width},0)}function m(){return this.groupedActions.reduce(function(t,n){return t+n.width},0)}function g(t){return t.reduce(function(t,n){return t+n.width},0)}function b(){if(void 0!==this.dropdown&&(this.dropdown.destroy(),delete this.dropdown),0!==this.groupedActions.length){var t=[],n=[],e=function(t){return"separator"!==t.type},i=function(t){var n={};return Q.forEach(function(e){void 0!==t[e]&&("link"===e?n.action=function(){window.location=t[e]}:n[e]=t[e])}),n};this.groupedActions.forEach(function(o){"dropdown"===o.type&&o.options&&o.options.items?t.push({header:o.options.caption,items:o.options.items.filter(e)}):"separator"!==o.type&&n.push(i(o))}),y.call(this,n.concat(t))}}function y(t){this.dropdown=new a({type:"dropdown",options:{caption:this.actionCaption,items:t}}),this.dropdown.attachTo(this.getElement())}function v(){return this.groupedActions.length>1?this.dropDownWidth:0}function B(){for(;this.groupedActions.length>0;)w.call(this)}function w(){var t=this.groupedActions.shift();t.instance.attachTo(this.getElement()),this.shownActions.push(t)}function A(){var t=this.shownActions.pop();this.groupedActions.splice(0,0,t),t.instance.detach()}function x(){return this.groupedActions.filter(function(t){return"separator"!==t.type})}function _(){var t=this.shownActions;return t.length>0&&"separator"===t[t.length-1].type}function L(){for(var t,n=0;n<this.groupedActions.length-1;n++)if("separator"!==this.groupedActions[n].type){t=this.groupedActions[n];break}var e=this.groupedActions.indexOf(t),i=this.groupedActions.slice(0,e+1);return g(i)}function k(t){return f.call(this)+v.call(this)<t}function E(t){return f.call(this)+m.call(this)<t}function T(){var t=this.options.getWidth,n=this.getElement(),e=t?t():n.getParent().getProperty("offsetWidth");if(n.setStyle("width",e),k.call(this,e)){if(E.call(this,e))B.call(this),b.call(this);else if(x.call(this).length>2&&L.call(this)+f.call(this)+v.call(this)<e){for(;this.groupedActions[0].width+f.call(this)+this.dropDownWidth<e;)w.call(this);b.call(this)}}else{for(;!k.call(this,e)&&this.shownActions.length>0||_.call(this)||1===x.call(this).length&&this.shownActions.length>0;)A.call(this);b.call(this)}}function S(t){var n=t.getProperty("offsetWidth");return parseInt(t.getStyle("marginLeft"))+parseInt(t.getStyle("marginRight"))+n}function C(t){if(t){t=s.clone(t,!0);var n=t.some(function(t){return Array.isArray(t)});if(n&&(t=I(t.map(function(t,n){var e=s.clone(t,!0);return n>0&&e.unshift({type:"separator"}),e}),!0)),t.length>0){var e=t.filter(function(t){return t.main===!0}),i=t.filter(function(t){return t.main!==!0});t=e.concat(i);var o=this,a=function(t){if(t.action){var n=t.action;t.action=function(){n({update:function(n){var e={name:t.name};a(n),o.updateAction(e,n,t)}})}}};return t.forEach(function(t){"button"===t.type&&a(t)}),t}}}var I=c.flatten,Q=["name","action","link","disabled","icon"];return t.Widget.extend({View:n,init:function(){var t=this.options;this.actions=C.call(this,t.actions)||[],this.shownActions=[],this.groupedActions=[],this.actionCaption=t.actionCaption||"Actions"},onViewReady:function(){var t,n=this.getElement();this.actions.forEach(function(s){switch(s.type){case"separator":t=new o;break;case"button":t=new i(s);break;case"dropdown":t=new a(s);break;case"loader":t=new r;break;default:t=new e(s)}t.attachTo(n),s.instance=t,this.shownActions.push(s)}.bind(this)),y.call(this,[]),d.call(this),this.options.fadeIn===!0&&this.getElement().setModifier("fadeIn")},updateAction:function(t,n,e){var i=this.shownActions.indexOf(e)!==-1;e.instance.updateAction(t,n);for(var o in n)Q.indexOf(o)!==-1&&(e[o]=n[o]);i||e.instance.attachTo(this.getElement()),e.width=S(e.instance.getElement()),i||(e.instance.detach(),b.call(this))},compareActions:function(t){var n=l(this.shownActions.concat(this.groupedActions)),e=l(t);return u(e,n)},onDOMAttach:function(){this._attached=!0,T.call(this)},redraw:function(){this._attached===!0&&p.call(this)},onDestroy:function(){h.call(this),this.shownActions.concat(this.groupedActions).forEach(function(t){t.instance&&t.instance.destroy()}),this.dropdown&&this.dropdown.destroy()},fadeOutAndDestroy:function(t){this.getElement().setModifier("fadeout"),setTimeout(function(){this.destroy(),t&&t()}.bind(this),200)}})}),define("layouts/top_section/TopSection",["jscore/core","widgets/Breadcrumb","./action_bar_items/ActionBarItems","./action_bar_breadcrumb/ActionBarBreadcrumb","../ext/ext.dom","jscore/ext/utils/base/underscore","jscore/ext/privateStore","./action_bar_separator/ActionBarSeparator","./TopSectionView","../ext/utils"],function(t,n,e,i,o,a,r,s,c,l){"use strict";function u(){if(a(this).breadcrumb&&(a(this).breadcrumb.destroy(),a(this).breadcrumb=void 0,a(this).actionBarBreadcrumb.destroy(),a(this).actionBarBreadcrumb=void 0),a(this).breadcrumbData){var t=this.view;a(this).breadcrumb=new n({data:a(this).breadcrumbData}),a(this).breadcrumb.attachTo(t.getBreadcrumb()),a(this).actionBarBreadcrumb=new i({items:[{header:a(this).title,items:a(this).breadcrumbData.slice(0,-1).map(function(t){return{link:t.url,name:t.name}})}]}),a(this).actionBarBreadcrumb.attachTo(t.getActionBarBreadcrumb()),"fixed"===a(this).actionBarPosition&&a(this).actionBarBreadcrumb.show()}}function d(){var t=this.view;t.getContextCommands().removeStyle("display"),t.getDefaultCommands().removeStyle("display"),t.getActionBar().setModifier("loading")}function h(){var t=this.view;t.getActionBar().removeModifier("loading"),t.getContextCommands().setStyle("display","block"),t.getDefaultCommands().setStyle("display","block")}function p(){return this.view.getActionBar().hasModifier("loading")}function f(t,n,i){var o=t?"contextActions":"defaultActions",r=t?this.view.getContextCommands():this.view.getDefaultCommands(),s=p.call(this);if(s&&h.call(this),n){var c=new e({
type:o,actions:n,actionCaption:a(this).actionCaption,getWidth:v.bind(this),fadeIn:!i&&(t===!1||!(a(this).contextActions&&a(this).contextActions.compareActions(n)))});if(void 0!==a(this)[o]&&a(this)[o].destroy(),c.attachTo(r),a(this)[o]=c,a(this).inContext===!0&&t===!1)return}m.call(this,t)}function m(t){void 0!==a(this).contextTransition&&(cancelAnimationFrame(a(this).contextTransition),a(this).contextTransition=void 0),a(this).contextTransition=requestAnimationFrame(g.bind(this,t))}function g(t){if(a(this).inContext===t)return void b.call(this);a(this).inContext=t,a(this).displayAnimation&&cancelAnimationFrame(a(this).displayAnimation);var n=this.view;n.getContextCommands().setStyle("display","block"),n.getDefaultCommands().setStyle("display","block");var e=n.getActionBar();a(this).displayAnimation=requestAnimationFrame(function(){b.call(this),a(this).inContext?e.setModifier("context"):e.removeModifier("context"),void 0===a(this).contextTransitionEvent&&(a(this).contextTransitionEvent=this.getElement().addEventHandler(o.transitionEventName,function(){this.view.getCommandsPlaceholder(a(this).inContext?"defaultActions":"contextActions").setStyle("display","none")}.bind(this)))}.bind(this))}function b(){var t=a(this).defaultActions;t&&t.redraw();var n=a(this).contextActions;n&&n.redraw()}function y(t){var n=t.getProperty("offsetWidth");return parseInt(t.getStyle("marginLeft"))+parseInt(t.getStyle("marginRight"))+n}function v(){var t=this.view,n=y(t.getLeftSeparator())+y(t.getLeftPlaceholder())+y(t.getRightSeparator())+y(t.getRightPlaceholder())+y(t.getActionBarBreadcrumb());return t.getActionBar().getProperty("offsetWidth")-n}function B(){var t=this.view.getBackToTop(),n="fixed"===a(this).actionBarPosition&&this.getElement().getProperty("scrollTop")>0;n?t.setModifier("show",String(n)):t.setModifier("show",String(n))}function w(){var t=this.view.getBackToTop();if(this.options.showBackToTop!==!1){var n=a(this).eventBus,e=n.subscribe("topsection:position",B,this),i=n.subscribe("topsection:scroll",B,this);a(this).eventBusHandlers.push(e),a(this).eventBusHandlers.push(i),t.addEventHandler("click",function(){k.call(this,!1,0)},this)}}function A(t){var n=getComputedStyle(t.getNative()),e=t.getProperty("offsetHeight");return parseInt(n.marginTop)+parseInt(n.marginBottom)+e}function x(){var t=this.view,n=A(t.getBreadcrumb())+A(t.getTitle()),e=this.options.getContentTopOffset;if(void 0!==e&&"function"==typeof e){var i=parseInt(e());isNaN(i)||(n=n+t.getActionBar().getProperty("offsetHeight")+i)}return n}function _(){var t=this.view,n=t.getActionBar(),e=this.getElement().getProperty("scrollTop")>x.call(this)||a(this).maximize?"fixed":"relative",i="fixed"===e?T:0;a(this).actionBarPosition!==e&&(a(this).actionBarPosition=e,t.getActionBarWrapper().setStyle("height",this.getActionBarHeight()+"px"),n.setModifier("position",e),n.setStyle("width","calc(100% - "+i+"px)"),a(this).eventBus.publish("topsection:position",e,this.getActionBarHeight()),setTimeout(b.bind(this),100))}function L(t){if(!(t&&t.originalEvent&&t.originalEvent.target.scrollTop<0)){var n=a(this).eventBus;this.getElement().getPosition().bottom===this.view.getTopSection().getPosition().bottom&&n.publish("topsection:pagebottom",t),n.publish("topsection:scroll",t),_.call(this)}}function k(t,n){var e=this.getElement(),i=n||0===n?n:101;e.getProperty("scrollTop")>i?o.animate(e,{scrollTop:i},500,t):t&&t()}function E(t,n){t.children().forEach(function(t){t.detach()}),n&&n.attachTo(t)}var T=o.getScrollbarWidth();return a=r.create(),t.Widget.extend({View:c,init:function(){var t=this.options;a(this).context=t.context,a(this).eventBus=t.context.eventBus,a(this).title=t.title,a(this).breadcrumbData=t.breadcrumb,a(this).actionBarPosition="absolute",a(this).actionCaption=t.actionsCaption||"Actions",a(this).eventBusHandlers=[]},onViewReady:function(){var n=this.view,e=this.options;n.setTitle(a(this).title),u.call(this),f.call(this,!1,e.defaultActions),w.call(this);var i=a(this).eventBus;if(e.breadcrumb){var o=i.subscribe("topsection:position",function(t){a(this).actionBarBreadcrumb&&("fixed"===t?a(this).actionBarBreadcrumb.show():a(this).actionBarBreadcrumb.hide())},this);a(this).eventBusHandlers.push(o)}a(this).eventBusHandlers.push(i.subscribe("topsection:left",E.bind(this,n.getLeftPlaceholder()))),a(this).eventBusHandlers.push(i.subscribe("topsection:right",E.bind(this,n.getRightPlaceholder()))),a(this).eventBusHandlers.push(i.subscribe("topsection:contextactions",f.bind(this,!0))),a(this).eventBusHandlers.push(i.subscribe("topsection:defaultactions",f.bind(this,!1))),a(this).eventBusHandlers.push(i.subscribe("topsection:loader:show",d.bind(this))),a(this).eventBusHandlers.push(i.subscribe("topsection:loader:hide",h.bind(this))),a(this).eventBusHandlers.push(i.subscribe("topsection:leavecontext",f.bind(this,!1,void 0))),a(this).eventBusHandlers.push(i.subscribe("topsection:scrolltotop",k,this)),this.getElement().addEventHandler("scroll",L.bind(this)),(new s).attachTo(n.getLeftSeparator()),(new s).attachTo(n.getRightSeparator()),a(this).windowResizeForCompactEvtId=t.Window.addEventHandler("resize",b.bind(this)),a(this).windowResizeForActionEvtId=t.Window.addEventHandler("resize",_.bind(this)),_.call(this),e.content&&this.setContent(e.content)},onDOMAttach:function(){t.Element.wrap(this.getElement()._getHTMLElement().parentNode).setStyle({position:"relative",width:"100%",height:"100%"}),b.call(this)},onDestroy:function(){t.Window.removeEventHandler(a(this).windowResizeForActionEvtId),t.Window.removeEventHandler(a(this).windowResizeForCompactEvtId),a(this).eventBusHandlers.forEach(function(t){a(this).eventBus.unsubscribe(t)}.bind(this))},setTitle:function(t){a(this).title=t,this.view.setTitle(t),u.call(this)},setBreadcrumb:function(t){a(this).breadcrumbData=t,u.call(this)},setContent:function(t){a(this).uiElement!==t&&(a(this).uiElement&&a(this).uiElement.detach(),l.attachUIElement(t,this.view.getPlaceholder()),a(this).uiElement=t)},getActionBarHeight:function(){return 32},maximize:function(t){var n=t?"none":"block",e=this.view;e.getBreadcrumb().setStyle("display",n),a(this).breadcrumb.resize(),e.getTitle().setStyle("display",n),a(this).maximize=t,_.call(this)}})}),define("layouts/TopSection",["layouts/top_section/TopSection"],function(t){return t});
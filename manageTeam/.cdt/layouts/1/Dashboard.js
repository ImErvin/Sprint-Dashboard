/* Copyright (c) Ericsson 2018 */

define("styles!layouts/dashboard/Item/_item.less",function(){return".elLayouts-Dashboard-item {\n  background-color: #ffffff;\n  border: 1px #ffffff solid;\n  border-radius: 3px;\n  padding-bottom: 8px;\n  padding-top: 0;\n  margin-bottom: 10px;\n  -webkit-animation: elLayouts-Dashboard-item-fadein 1s;\n  animation: elLayouts-Dashboard-item-fadein 1s;\n  /* Firefox < 16 */\n\n  /* Safari, Chrome and Opera > 12.1 */\n\n  /* Internet Explorer */\n\n  /* Opera < 12.1 */\n\n}\n@keyframes elLayouts-Dashboard-item-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-moz-keyframes elLayouts-Dashboard-item-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes elLayouts-Dashboard-item-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-ms-keyframes elLayouts-Dashboard-item-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-o-keyframes elLayouts-Dashboard-item-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n.elLayouts-Dashboard-item_dragged {\n  -webkit-animation: none;\n  /* Safari, Chrome and Opera > 12.1 */\n\n  -moz-animation: none;\n  /* Firefox < 16 */\n\n  -ms-animation: none;\n  /* Internet Explorer */\n\n  -o-animation: none;\n  /* Opera < 12.1 */\n\n  animation: none;\n  border-color: #dfdfdf;\n  padding: 0 8px 8px 8px;\n}\n.elLayouts-Dashboard-item:last-child {\n  padding-bottom: 0;\n}\n.elLayouts-Dashboard-item-top {\n  padding-top: 0;\n  margin-top: 0;\n}\n.elLayouts-Dashboard-item-top-actions {\n  margin-right: -3px;\n}\n.elLayouts-Dashboard-item-top-actions-iconHolder {\n  margin: 0;\n}\n.elLayouts-Dashboard-item-header {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  border-bottom: 0;\n  margin: 0;\n  display: inline-block;\n  float: left;\n}\n.elLayouts-Dashboard-item-header_draggable {\n  cursor: move;\n}\n.elLayouts-Dashboard-item_dragged {\n  z-index: 1001;\n}\n.elLayouts-Dashboard-item-menu {\n  margin: 0;\n  display: none;\n}\n.elLayouts-Dashboard-item-menu_show {\n  display: inline-block;\n}\n.elLayouts-Dashboard-item-settings {\n  display: none;\n}\n.elLayouts-Dashboard-item-settings_show {\n  display: inline-block;\n}\n.elLayouts-Dashboard-item-separator {\n  display: none;\n}\n.elLayouts-Dashboard-item-separator_show {\n  display: inline-block;\n}\n.elLayouts-Dashboard-item .elLayouts-Dashboard-item-Commands {\n  margin: 0;\n  padding-top: 8px;\n}\n.elLayouts-Dashboard-item-handle {\n  vertical-align: text-top;\n  margin-right: 5px;\n  cursor: move;\n  opacity: 0.4;\n}\n.elLayouts-Dashboard-item-header:hover .elLayouts-Dashboard-item-handle {\n  opacity: 1;\n}\n.elLayouts-Dashboard_one-column > .elLayouts-Dashboard-column > .elLayouts-Dashboard-column-content > .elLayouts-Dashboard-item > .elLayouts-Dashboard-item-top .elLayouts-Dashboard-item-maximize-minimize {\n  display: none;\n}\n"}),define("template!layouts/dashboard/Item/_item.hbs",["jscore/handlebars/handlebars"],function(t){return t.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers);var s,a,r="",l="function",h=this.escapeExpression;return r+='<div class="elLayouts-Dashboard-item">\r\n    <div class="ebLayout-SectionSubheading elLayouts-Dashboard-item-top">\r\n        <h3 class="elLayouts-Dashboard-item-header"><i class="ebIcon ebIcon_grabHandle elLayouts-Dashboard-item-handle"></i><span class="elLayouts-Dashboard-item-header-text"></span></h3>\r\n        <div class="ebLayout-HeadingCommands elLayouts-Dashboard-item-Commands">\r\n            <div class="elLayouts-Dashboard-item-top-actions ebLayout-HeadingCommands-block">\r\n                <div class="ebLayout-HeadingCommands-iconHolder elLayouts-Dashboard-item-top-actions-iconHolder">\r\n                    <i class="elLayouts-Dashboard-item-settings ebIcon ebIcon_settings ebIcon_interactive" tabindex="0" title="',(a=n.settings)?s=a.call(e,{hash:{}}):(a=e&&e.settings,s=typeof a===l?a.call(e,{hash:{}}):a),r+=h(s)+'"></i>\r\n                </div>\r\n                <div class="elLayouts-Dashboard-item-separator ebLayout-HeadingCommands-separator"></div>\r\n                <div class="ebLayout-HeadingCommands-iconHolder elLayouts-Dashboard-item-top-actions-iconHolder">\r\n                    <div class="elLayouts-Dashboard-item-menu"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="ebLayout-clearFix"></div>\r\n    </div>\r\n    <div class="elLayouts-Dashboard-item-content"></div>\r\n</div>\r\n'})}),define("layouts/dashboard/Item/ItemView",["jscore/core","template!./_item.hbs","styles!./_item.less"],function(t,e,n){var i=t.View.extend({getTemplate:function(){return e(this.options)},getStyle:function(){return n},setHeader:function(t){this.getHeaderText().setText(t)},getContentDiv:function(){return this.getElement().find("."+i.EL_CONTENT)},getHeader:function(){return this.getElement().find("."+i.EL_HEADER)},getHeaderText:function(){return this.getElement().find("."+i.EL_HEADER_TEXT)},setHeaderWidth:function(){var t=this.getTopActions().getProperty("offsetWidth");this.getHeader().setStyle("width","calc(100% - "+(t+5)+"px)")},getTop:function(){return this.getElement().find("."+i.EL_TOP)},getTopActions:function(){return this.getElement().find("."+i.EL_TOP_ACTIONS)},setPosition:function(t,e){this.getElement().setStyle({left:t+"px",top:e+"px"})},getMenu:function(){return this.getElement().find("."+i.EL_MENU)},getSeparator:function(){return this.getElement().find("."+i.EL_SEPARATOR)},showSeparator:function(){this.getSeparator().setModifier("show")},getSettings:function(){return this.getElement().find("."+i.EL_SETTINGS)},showSettings:function(){this.getSettings().setModifier("show")},showMenu:function(){this.getMenu().setModifier("show")},hideMenu:function(){this.getMenu().removeModifier("show")}},{EL:"elLayouts-Dashboard-item",EL_HEADER:"elLayouts-Dashboard-item-header",EL_HEADER_TEXT:"elLayouts-Dashboard-item-header-text",EL_TOP:"elLayouts-Dashboard-item-top",EL_TOP_ACTIONS:"elLayouts-Dashboard-item-top-actions",EL_CONTENT:"elLayouts-Dashboard-item-content",EL_SETTINGS:"elLayouts-Dashboard-item-settings",EL_SEPARATOR:"elLayouts-Dashboard-item-separator",EL_MENU:"elLayouts-Dashboard-item-menu",EL_MAXIMIZE:"elLayouts-Dashboard-item-maximize",EL_MINIMIZE:"elLayouts-Dashboard-item-minimize",EL_MAXIMIZE_MINIMIZE:"elLayouts-Dashboard-item-maximize-minimize",EL_CLOSE:"elLayouts-Dashboard-item-close"});return i}),define("layouts/dashboard/Item/Item",["jscore/core","widgets/utils/domUtils","widgets/WidgetCore","./ItemView","widgets/ContextMenu","../../ext/utils","jscore/ext/utils/base/underscore"],function(t,e,n,i,o,s,a){"use strict";var r=13;return n.extend({view:function(t){return new i({settings:this.options.settingsText||"Settings"})},init:function(t){this.header=t.header||"default header text",this.content=t.content,this.iid=t.iid,this.maximizable=t.maximizable||!1,this.maximizeText=t.maximizeText||"Maximize",this.minimizeText=t.minimizeText||"Minimize",this.closeText=t.closeText||"Close",this.settings=t.settings!==!1||t.settings,this.closable=void 0===t.closable||t.closable,this.customActions=t.customActions||[]},onViewReady:function(){this.view.getHeaderText().setText(this.header),s.attachUIElement(this.content,this.view.getContentDiv()),this.bindDrag(),this.setActions(),this.contextMenu=new o({items:this.actions}),this.settings&&(this.view.showSettings(),this.view.getSettings().addEventHandler("click",function(){this.trigger("settings",this)}.bind(this)),this.view.getSettings().addEventHandler("keypress",function(t){t.originalEvent.keyCode===r&&this.trigger("settings",this)}.bind(this))),this.actions.length>0&&this.settings&&this.view.showSeparator(),this.contextMenu.attachTo(this.view.getMenu())},onDOMAttach:function(){this.view.setHeaderWidth()},setActions:function(){this.actions=[],this.closable&&this.actions.push({name:this.closeText,action:this.close.bind(this)}),this.maximizable&&!this.maximized?this.actions.push({name:this.maximizeText,action:this.maximize.bind(this)}):this.maximizable&&this.maximized&&this.actions.push({name:this.minimizeText,action:this.minimize.bind(this)}),this.content.actions&&this.content.actions.length>0&&this.content.actions.forEach(function(t){var e={};for(var n in t)e[n]=t[n];e.action&&(e.action=e.action.bind(this.content)),this.actions.push(e)}.bind(this)),this.actions.length>0?this.view.showMenu():this.view.hideMenu()},changeActions:function(){this.setActions(),this.contextMenu.setItems(this.actions)},close:function(){this.trigger("close",this)},maximize:function(){this.maximized=!0,this.unbindDrag(),this.changeActions(),this.trigger("maximize",this)},minimize:function(){this.maximized=!1,this.bindDrag(),this.changeActions(),this.trigger("minimize",this)},bindDrag:function(){this.mouseDownEventId=this.view.getHeader().addEventHandler("mousedown",this.move.bind(this)),this.touchStartEventId=this.view.getHeader().addEventHandler("touchstart",this.move.bind(this)),this.view.getHeader().setModifier("draggable")},unbindDrag:function(){this.mouseDownEventId&&this.view.getHeader().removeEventHandler(this.mouseDownEventId),this.touchStartEventId&&this.view.getHeader().removeEventHandler(this.touchStartEventId),this.view.getHeader().removeModifier("draggable")},move:function(e){if("mousedown"!==e.originalEvent.type||1===e.originalEvent.which){this.getElement().setModifier("dragged"),e.originalEvent.stopPropagation(),e.originalEvent.preventDefault();var n=this.view.getElement().getProperty("offsetWidth");this.view.getElement().setStyle({position:"absolute",width:n+"px"}),this.originalTop=parseInt(this.view.getElement().getProperty("offsetTop")),this.originalLeft=parseInt(this.view.getElement().getProperty("offsetLeft")),"mousedown"===e.originalEvent.type?(this.mouseDownX=e.originalEvent.clientX,this.mouseDownY=e.originalEvent.clientY,this.mouseUpEventId=t.Window.addEventHandler("mouseup",this.drop.bind(this)),this.mouseMoveEventId=t.Window.addEventHandler("mousemove",this.drag.bind(this))):"touchstart"===e.originalEvent.type&&(this.mouseDownX=e.originalEvent.touches[0].clientX,this.mouseDownY=e.originalEvent.touches[0].clientY,this.mouseUpEventId=t.Window.addEventHandler("touchend",this.drop.bind(this)),this.mouseMoveEventId=t.Window.addEventHandler("touchmove",this.drag.bind(this))),this.view.setPosition(this.originalLeft,this.originalTop),this.trigger("pickedUp",e,this)}},drag:function(t){t.originalEvent.stopPropagation(),this.getCurrentCoordinates(t),this.view.setPosition(this.originalLeft+this.currentMouseDownX-this.mouseDownX,this.originalTop+this.currentMouseDownY-this.mouseDownY),this.view.getElement().setStyle("display","none"),this.targetElement=document.elementFromPoint(this.currentMouseDownX,this.currentMouseDownY),this.view.getElement().removeStyle("display"),this.view.getElement().setModifier("dragged"),this.trigger("dragged",t,this,this.targetElement)},getCurrentCoordinates:function(t){"mousemove"===t.originalEvent.type?(this.currentMouseDownX=t.originalEvent.clientX,this.currentMouseDownY=t.originalEvent.clientY):"touchmove"===t.originalEvent.type&&(this.currentMouseDownX=parseInt(t.originalEvent.touches[0].clientX),this.currentMouseDownY=parseInt(t.originalEvent.touches[0].clientY))},drop:function(e){e.originalEvent.stopPropagation(),this.getCurrentCoordinates(e),this.getElement().removeModifier("dragged"),this.mouseUpEventId&&(t.Window.removeEventHandler(this.mouseUpEventId),delete this.mouseUpEventId),this.mouseMoveEventId&&(t.Window.removeEventHandler(this.mouseMoveEventId),delete this.mouseMoveEventId),this.view.getElement().removeModifier("dragged"),this.revertMovement(),this.trigger("dropped",e,this,this.targetElement),delete this.targetElement},revertMovement:function(){this.view.getElement().removeStyle("position"),this.view.getElement().removeStyle("padding"),this.view.getElement().removeStyle("width","100%"),this.view.getElement().removeStyle("top"),this.view.getElement().removeStyle("left")},onDestroy:function(){s.closeUIElement(this.content)},setHeader:function(t){this.view.setHeader(t),this.header=t},toJSON:function(){var t=a.clone(this.content.toJSON?this.content.toJSON():this.content.options);t.context===this.content.options.context&&delete t.context,t.item===this.content.options.item&&delete t.item;var e={header:this.header,type:this.content.id,maximizable:this.maximizable,maximize:this.maximized,closable:this.closable,iid:this.iid,maximizeText:this.maximizeText,minimizeText:this.minimizeText,closeText:this.closeText,settings:this.settings,config:t};return e}})}),define("layouts/ext/utils",["jscore/core"],function(t){"use strict";return{attachUIElement:function(e,n){e instanceof t.Widget?e.attachTo(n):e instanceof t.Region&&e.start(n)},closeUIElement:function(e){e instanceof t.Widget?e.destroy():e instanceof t.Region&&e.stop()}}}),define("styles!layouts/dashboard/PlaceHolder/placeHolder.less",function(){return".elLayouts-Dashboard-placeHolder {\n  border: 1px dashed #dfdfdf;\n  border-radius: 3px;\n  background: #eff0f0;\n  z-index: 1;\n  text-align: center;\n}\n.elLayouts-Dashboard-placeHolder-header {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n"}),define("text!layouts/dashboard/PlaceHolder/placeHolder.html",function(){return'<div class="elLayouts-Dashboard-placeHolder">\r\n    <h4 class="elLayouts-Dashboard-placeHolder-header"></h4>\r\n</div>'}),define("layouts/dashboard/PlaceHolder/PlaceHolderView",["jscore/core","text!./placeHolder.html","styles!./placeHolder.less"],function(t,e,n){var i=t.View.extend({getTemplate:function(){return e},getStyle:function(){return n},setHeader:function(t){this.getElement().find("."+i.EL_HEADER).setText(t)},getHeader:function(){return this.getElement().find("."+i.EL_HEADER)},setHeight:function(t){this.getElement().setStyle({height:t})}},{EL:"elLayouts-Dashboard-placeHolder",EL_HEADER:"elLayouts-Dashboard-placeHolder-header"});return i}),define("layouts/dashboard/PlaceHolder/PlaceHolder",["jscore/core","widgets/utils/domUtils","widgets/WidgetCore","./PlaceHolderView"],function(t,e,n,i){"use strict";return n.extend({View:i,init:function(t){this.height=t.height,this.origin=t.origin,this.header=t.header||""},onViewReady:function(){this.height&&this.view.setHeight(this.height),this.origin?this.view.getElement().setModifier("origin"):this.view.getElement().setModifier("target"),this.view.setHeader(this.header)}})}),define("styles!layouts/dashboard/Column/column.less",function(){return".elLayouts-Dashboard-column {\n  vertical-align: top;\n}\n.elLayouts-Dashboard-column-footer {\n  height: 70px;\n}\n.elLayouts-Dashboard-column_empty .elLayouts-Dashboard-column-placeholder {\n  display: flex;\n}\n.elLayouts-Dashboard-column_placeholder_false.elLayouts-Dashboard-column_empty .elLayouts-Dashboard-column-placeholder {\n  display: none;\n}\n.elLayouts-Dashboard-column-placeholder {\n  padding: 10px;\n  background-color: #f6f6f6;\n  height: 100px;\n  display: none;\n  border: 1px solid #dfdfdf;\n  border-radius: 3px;\n  text-align: center;\n  vertical-align: middle;\n  align-items: center;\n  justify-content: center;\n}\n.elLayouts-Dashboard-column-placeholder-message {\n  font-size: 18px;\n  text-align: center;\n  color: #adadad;\n}\n.elLayouts-Dashboard-column-placeholder-message-empty {\n  display: none;\n}\n.elLayouts-Dashboard.elLayouts-Dashboard_empty .elLayouts-Dashboard-column-placeholder-message-filled {\n  display: none;\n}\n.elLayouts-Dashboard.elLayouts-Dashboard_empty .elLayouts-Dashboard-column-placeholder-message-empty {\n  display: inline;\n}\n@media (max-width: 600px) {\n  .elLayouts-Dashboard-column-footer {\n    height: 10px;\n  }\n}\n@media (min-width: 600px) and (max-width: 992px) {\n  .elLayouts-Dashboard-column-footer {\n    height: 10px;\n  }\n}\n"}),define("text!layouts/dashboard/Column/column.html",function(){return'<div class="elLayouts-Dashboard-column">\r\n    <div class="elLayouts-Dashboard-column-content"></div>\r\n    <div class="elLayouts-Dashboard-column-placeholder">\r\n        <p class="elLayouts-Dashboard-column-placeholder-message"><span class="elLayouts-Dashboard-column-placeholder-message-filled"></span><span class="elLayouts-Dashboard-column-placeholder-message-empty"></span></p>\r\n    </div>\r\n    <div class="elLayouts-Dashboard-column-footer"></div>\r\n</div>\r\n'}),define("layouts/dashboard/Column/ColumnView",["jscore/core","text!./column.html","styles!./column.less"],function(t,e,n){var i=t.View.extend({getTemplate:function(){return e},getStyle:function(){return n},getContentDiv:function(){return this.getElement().find("."+i.EL_CONTENT)},getPlaceholderMessageEmpty:function(){return this.getElement().find("."+i.EL_PLACEHOLDER_MESSAGE_EMPTY)},getPlaceholderMessageFilled:function(){return this.getElement().find("."+i.EL_PLACEHOLDER_MESSAGE_FILLED)}},{EL:"elLayouts-Dashboard-column",EL_CONTENT:"elLayouts-Dashboard-column-content",EL_FOOTER:"elLayouts-Dashboard-column-footer",EL_PLACEHOLDER_MESSAGE_EMPTY:"elLayouts-Dashboard-column-placeholder-message-empty",EL_PLACEHOLDER_MESSAGE_FILLED:"elLayouts-Dashboard-column-placeholder-message-filled"});return i}),define("layouts/dashboard/Column/Column",["jscore/core","widgets/utils/domUtils","widgets/WidgetCore","./ColumnView","../PlaceHolder/PlaceHolder","../../ext/utils","jscore/ext/privateStore"],function(t,e,n,i,o,s,a){"use strict";function r(t,e){var n=t.getElement()._getHTMLElement(),i=h(this).items[e],o=this.view.getContentDiv()._getHTMLElement();t._parent=this.view.getContentDiv(),i?(i=i.getElement()._getHTMLElement(),o.insertBefore(n,i)):s.attachUIElement(t,this.view.getContentDiv())}function l(){0===h(this).items.length?this.getElement().setModifier("empty"):this.getElement().removeModifier("empty")}var h=a.create();return n.extend({View:i,init:function(t){h(this).items=t.items||[],h(this).emptyColumnText=this.options.emptyColumnText||"Drag and drop a widget to display it here",h(this).emptyDashboardText=this.options.emptyDashboardText||"Add a widget to display it here",h(this).showEmptyColumnPlaceholders=this.options.showEmptyColumnPlaceholders},onViewReady:function(){h(this).showEmptyColumnPlaceholders===!0?(this.view.getPlaceholderMessageEmpty().setText(h(this).emptyDashboardText),this.view.getPlaceholderMessageFilled().setText(h(this).emptyColumnText)):this.getElement().setModifier("placeholder","false")},onDOMAttach:function(){l.call(this)},getItems:function(){return h(this).items},addOriginPlaceHolder:function(t){var e=h(this).items[t].getElement().getProperty("offsetHeight");this.originPlaceHolder=new o({height:e,origin:!0}),r.call(this,this.originPlaceHolder,t),this.originPlaceHolderPosition=t},addTargetPlaceHolder:function(t,e){t!==this.originPlaceHolderPosition&&t!==this.originPlaceHolderPosition+1&&(this.targetPlaceHolder&&this.clearTargetPlaceHolder(),this.targetPlaceHolder=new o({target:!0,header:e}),r.call(this,this.targetPlaceHolder,t),this.targetPlaceHolderPosition=t)},clearTargetPlaceHolder:function(){this.targetPlaceHolder&&(this.targetPlaceHolder.destroy(),delete this.targetPlaceHolderPosition)},clearOriginPlaceHolders:function(){this.originPlaceHolder&&(this.originPlaceHolder.destroy(),delete this.originPlaceHolderPosition),this.clearTargetPlaceHolder()},extract:function(t){var e=h(this).items[t];if(e)return h(this).items.splice(t,1),e.detach(),l.call(this),e},extractAll:function(){this.getItems().forEach(function(t){t.detach()}.bind(this));var t=this.getItems();return h(this).items=[],l.call(this),t},remove:function(t){var e=this.extract(t);e&&e.destroy(),l.call(this)},add:function(t,e){s.attachUIElement(t,this.view.getContentDiv()),e>=0&&e<h(this).items.length&&r.call(this,t,e),h(this).items.splice(e,0,t),l.call(this)},move:function(t,e){var n=h(this).items.indexOf(t);n!==-1&&(t=this.extract(n),this.add(t,e))},onDestroy:function(){this.getItems().forEach(function(t){t.destroy()})},toJSON:function(){var t=[];return this.getItems().forEach(function(e){t.push(e.toJSON())}),t},get:function(t){for(var e=function(t,e){return"object"==typeof e?t.content===e:t.iid===e},n=this.getItems(),i=0;i<=n.length-1;i++)if(e(n[i],t))return n[i]},getContentHeight:function(){return this.view.getContentDiv().getProperty("offsetHeight")}})}),define("styles!layouts/dashboard/dashboard.less",function(){return".elLayouts-Dashboard {\n  margin-top: 10px;\n  height: 100%;\n}\n.elLayouts-Dashboard-column {\n  display: inline-block;\n}\n.elLayouts-Dashboard-content_three-columns-30-40-30 > .elLayouts-Dashboard-column {\n  width: calc(30% - 24px);\n  margin-right: 36px;\n}\n.elLayouts-Dashboard-content_three-columns-30-40-30 > .elLayouts-Dashboard-column:nth-child(2) {\n  width: calc(40% - 24px);\n}\n.elLayouts-Dashboard-content_three-columns-30-40-30 > .elLayouts-Dashboard-column:last-child {\n  margin-right: 0;\n}\n.elLayouts-Dashboard-content_three-columns > .elLayouts-Dashboard-column {\n  width: calc(33.33% - 24px);\n  margin-right: 36px;\n}\n.elLayouts-Dashboard-content_three-columns > .elLayouts-Dashboard-column:last-child {\n  margin-right: 0;\n}\n.elLayouts-Dashboard-content_four-columns > .elLayouts-Dashboard-column {\n  width: calc(25% - 27px);\n  margin-right: 36px;\n}\n.elLayouts-Dashboard-content_four-columns > .elLayouts-Dashboard-column:last-child {\n  margin-right: 0;\n}\n.elLayouts-Dashboard-content_two-columns > .elLayouts-Dashboard-column {\n  width: calc(50% - 18px);\n  margin-right: 36px;\n}\n.elLayouts-Dashboard-content_two-columns > .elLayouts-Dashboard-column:last-child {\n  margin-right: 0;\n}\n.elLayouts-Dashboard-content_two-columns-30-70 > .elLayouts-Dashboard-column {\n  width: calc(30% - 18px);\n  margin-right: 36px;\n}\n.elLayouts-Dashboard-content_two-columns-30-70 > .elLayouts-Dashboard-column:last-child {\n  width: calc(70% - 18px);\n  margin-right: 0;\n}\n.elLayouts-Dashboard-content_two-columns-70-30 > .elLayouts-Dashboard-column {\n  width: calc(70% - 18px);\n  margin-right: 36px;\n}\n.elLayouts-Dashboard-content_two-columns-70-30 > .elLayouts-Dashboard-column:last-child {\n  width: calc(30% - 18px);\n  margin-right: 0;\n}\n.elLayouts-Dashboard-content_one-column > .elLayouts-Dashboard-column {\n  width: 100%;\n}\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_small .elLayouts-Dashboard-column {\n  min-height: none;\n}\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_small .elLayouts-Dashboard-content_two-columns > .elLayouts-Dashboard_mode_small .elLayouts-Dashboard-column,\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_small .elLayouts-Dashboard-content_two-columns-70-30 > .elLayouts-Dashboard-column,\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_small .elLayouts-Dashboard-content_two-columns-30-70 > .elLayouts-Dashboard-column,\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_small .elLayouts-Dashboard-content_three-columns > .elLayouts-Dashboard-column,\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_small .elLayouts-Dashboard-content_three-columns-30-40-30 > .elLayouts-Dashboard-column,\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_small .elLayouts-Dashboard-content_three-columns-30-40-30 > .elLayouts-Dashboard-column:nth-child(2),\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_small .elLayouts-Dashboard-content_four-columns > .elLayouts-Dashboard-column {\n  width: 100%;\n  margin: 0;\n  height: auto;\n}\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_small .elLayouts-Dashboard-content_two-columns-70-30 > .elLayouts-Dashboard-column:last-child,\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_small .elLayouts-Dashboard-content_two-columns-30-70 > .elLayouts-Dashboard-column:last-child {\n  margin-right: 0;\n  width: 100%;\n  height: auto;\n}\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_small .elLayouts-Dashboard-column-footer {\n  height: 0;\n}\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_medium .elLayouts-Dashboard-column {\n  min-height: none;\n}\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_medium .elLayouts-Dashboard-content_two-columns-70-30 > .elLayouts-Dashboard-column,\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_medium .elLayouts-Dashboard-content_two-columns-30-70 > .elLayouts-Dashboard-column,\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_medium .elLayouts-Dashboard-content_three-columns > .elLayouts-Dashboard-column,\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_medium .elLayouts-Dashboard-content_three-columns-30-40-30 > .elLayouts-Dashboard-column,\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_medium .elLayouts-Dashboard-content_four-columns > .elLayouts-Dashboard-column {\n  width: calc(50% - 18px);\n  margin-right: 36px;\n}\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_medium .elLayouts-Dashboard-content_two-columns-70-30 > .elLayouts-Dashboard-column:nth-child(even),\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_medium .elLayouts-Dashboard-content_two-columns-30-70 > .elLayouts-Dashboard-column:nth-child(even),\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_medium .elLayouts-Dashboard-content_three-columns > .elLayouts-Dashboard-column:nth-child(even),\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_medium .elLayouts-Dashboard-content_three-columns-30-40-30 > .elLayouts-Dashboard-column:nth-child(even),\n.elLayouts-Dashboard.elLayouts-Dashboard_mode_medium .elLayouts-Dashboard-content_four-columns > .elLayouts-Dashboard-column:nth-child(even) {\n  margin-right: 0;\n  width: calc(50% - 18px);\n}\n"}),define("text!layouts/dashboard/dashboard.html",function(){return'<div class="elLayouts-Dashboard">\r\n    <div class="elLayouts-Dashboard-top"></div>\r\n    <div class="elLayouts-Dashboard-content"></div>\r\n</div>'}),define("layouts/dashboard/DashboardView",["jscore/core","text!./dashboard.html","styles!./dashboard.less"],function(t,e,n){var i=t.View.extend({getTemplate:function(){return e},getStyle:function(){return n},getTop:function(){return this.getElement().find("."+i.EL_TOP)},getContent:function(){return this.getElement().find("."+i.EL_CONTENT)}},{EL:"elLayouts-Dashboard",EL_TOP:"elLayouts-Dashboard-top",EL_CONTENT:"elLayouts-Dashboard-content"});return i}),define("layouts/dashboard/Dashboard",["jscore/core","./DashboardView","./Column/Column","./Item/Item","../ext/utils","jscore/ext/privateStore","jscore/ext/utils/base/underscore"],function(t,e,n,i,o,s,a){"use strict";function r(t){var e=function(t,e){return"object"==typeof e?t.content===e:t.iid===e};if(R(this).maximizedItem&&e(R(this).maximizedItem,t))return R(this).maximizedItem;for(var n=R(this).columns,i=0;i<=n.length-1;i++){var o=n[i].get(t);if(void 0!==o)return o}}function l(t,e){var n=R(this).columns[t];if(n){var i=n.extract(e);i&&(i.destroy(),c.call(this))}}function h(t){var e=this.get(t);if(void 0!==e){if(void 0!==R(this).maximizedItem&&e===R(this).maximizedItem.content)return this.removeMaximizedItem();for(var n=0;n<this.getNumberOfColumns();n++)for(var i=0;i<this.getColumnLength(n);i++)if(e===this.getItem(n,i))return this.removeItem(n,i)}}function d(t,e){var n=r.call(this,t);n.setHeader(e)}function m(t){t.forEach(function(t){void 0!==t.prototype.id&&(R(this).references[t.prototype.id]=t)}.bind(this))}function u(){R(this).layoutOptions=k[R(this).layout].columns}function c(){0===this.getTotalLength()?this.getElement().setModifier("empty"):this.getElement().removeModifier("empty"),M.call(this)}function g(){c.call(this),R(this).eventBus.publish("dashboard:change",this)}function f(){R(this).columns.forEach(function(t){t.attachTo(this.view.getContent())}.bind(this))}function y(){R(this).columns=[],u.call(this);var t=!1;R(this).layoutOptions.forEach(function(e,i){var s=new n({context:R(this).context,width:e.width,emptyColumnText:this.options.emptyColumnText,emptyDashboardText:this.options.emptyDashboardText,showEmptyColumnPlaceholders:R(this).showEmptyColumnPlaceholders});R(this).items[i]&&R(this).items[i].forEach(function(e,n){var i=b.call(this,e);o.attachUIElement(i,s.view.getContentDiv()),s.getItems().push(i),i.options.maximize&&(t=i)}.bind(this)),R(this).columns.push(s)}.bind(this)),t&&t.maximize()}function b(t){var e;try{t=JSON.parse(JSON.stringify(t))}catch(t){throw new Error("Dashboard addItem() itemConfig should be JSON serializable")}if("Dashboard"===t.type&&(t.config.references=R(this).references),"string"==typeof t.type&&void 0!==R(this).references[t.type]&&(e=R(this).references[t.type]),void 0===e)throw new Error("Dashboard item type not defined or referenced");t.config.context=t.config.context||R(this).context,t.config.item=t.config.item||a.clone(t);var n=new i({header:t.header,content:new e(t.config||{}),maximizable:t.maximizable,maximize:t.maximize,iid:t.iid,closable:t.closable,closeText:this.options.closeText,maximizeText:this.options.maximizeText,minimizeText:this.options.minimizeText,settings:t.settings,settingsText:this.options.settingsText});return n.addEventHandler("dropped",w.bind(this)),n.addEventHandler("pickedUp",x.bind(this)),n.addEventHandler("dragged",E.bind(this)),n.addEventHandler("close",_.bind(this)),n.addEventHandler("maximize",C.bind(this)),n.addEventHandler("minimize",I.bind(this)),n.addEventHandler("settings",H.bind(this)),n}function p(t){return R(this).targetColumn&&R(this).targetColumn.targetPlaceHolder&&(R(this).targetColumn.targetPlaceHolder.getElement()===t||R(this).targetColumn.targetPlaceHolder.getElement().getNative().contains(t))}function v(t){return R(this).originalColumn&&R(this).originalColumn.originPlaceHolder&&(R(this).originalColumn.originPlaceHolder.getElement()===t||R(this).originalColumn.originPlaceHolder.getElement().getNative().contains(t))}function L(){delete R(this).maximizedItemColumn,delete R(this).maximizedItemIndex,delete R(this).maximizedItem}function D(t){var e;return R(this).columns.forEach(function(n){n.getItems().indexOf(t)!==-1&&(e=n)}.bind(this)),e}function x(t,e){R(this).originalColumn=D.call(this,e),R(this).originalColumn.addOriginPlaceHolder(R(this).originalColumn.getItems().indexOf(e))}function E(t,e,n){return T.call(this,n),R(this).targetColumn?void(R(this).targetColumn&&R(this).targetColumn.targetPlaceHolder&&p.call(this,n)||(v.call(this,n)?R(this).targetColumn.clearTargetPlaceHolder():(R(this).targetColumn.getItems().length>0||R(this).showEmptyColumnPlaceholders===!1)&&R(this).targetColumn.addTargetPlaceHolder(R(this).targetPosition,e.header),M.call(this))):(M.call(this),P.call(this))}function w(e,n,i){R(this).targetColumn&&(v.call(this,i)||(p.call(this,i)?(R(this).originalColumn.extract(R(this).originalColumn.getItems().indexOf(n)),R(this).targetColumn.add(n,R(this).targetColumn.targetPlaceHolderPosition),g.call(this)):R(this).targetColumn===R(this).originalColumn?(R(this).originalColumn.move(n,R(this).targetPosition),g.call(this)):(R(this).originalColumn.extract(R(this).originalColumn.getItems().indexOf(n)),R(this).targetColumn.add(n,R(this).targetPosition),g.call(this)))),z.call(this),delete R(this).originalColumn,delete R(this).targetColumn,delete R(this).targetPosition,t.Window.trigger("resize")}function _(t){var e=!1;R(this).columns.forEach(function(n,i){n.getItems().indexOf(t)!==-1&&(e=n)}.bind(this)),e?e.remove(e.getItems().indexOf(t)):R(this).maximizedItem&&(R(this).maximizedItem.destroy(),L.call(this)),g.call(this)}function C(e){R(this).maximizedItem&&R(this).maximizedItem.minimize(),R(this).maximizedItemColumn=D.call(this,e),R(this).maximizedItemIndex=R(this).maximizedItemColumn.getItems().indexOf(e),R(this).maximizedItem=R(this).maximizedItemColumn.extract(R(this).maximizedItemIndex),o.attachUIElement(R(this).maximizedItem,this.view.getTop()),R(this).eventBus.publish("dashboard:maximize",e.content),t.Window.trigger("resize"),g.call(this)}function I(){R(this).maximizedItemColumn?R(this).maximizedItemColumn.add(R(this).maximizedItem,R(this).maximizedItemIndex):R(this).columns[0].add(R(this).maximizedItem,R(this).maximizedItemIndex),R(this).eventBus.publish("dashboard:minimize",R(this).maximizedItem.content),t.Window.trigger("resize"),L.call(this),g.call(this)}function H(t){t.content.onSettings?t.content.onSettings.call(t.content):R(this).eventBus.publish("dashboard:settings",t.content);
}function T(t){var e=R(this).targetColumn;R(this).targetColumn=!1,R(this).columns.forEach(function(e,n){e.getElement()._getHTMLElement().contains(t)&&(R(this).targetColumn=e)}.bind(this)),R(this).targetColumn?(e&&e!==R(this).targetColumn&&e.clearTargetPlaceHolder(),R(this).targetPosition=R(this).targetColumn.getItems().length,R(this).targetColumn.getItems().forEach(function(e,n){(e.getElement()._getHTMLElement()===t||e.getElement()._getHTMLElement().contains(t))&&(R(this).targetPosition=n)}.bind(this))):R(this).targetPosition=!1}function z(){R(this).columns.forEach(function(t){t.clearOriginPlaceHolders()})}function P(){R(this).columns.forEach(function(t){t.clearTargetPlaceHolder()})}function M(){if(!(this.getElement().getProperty("offsetWidth")<=0)){var t=this.getElement().getParent().getProperty("offsetWidth");t<=0||(t<=600?(N.call(this),S.call(this,"small")):t>600&&t<992||O.call(this)<280?(S.call(this,"medium"),N.call(this),A.call(this).forEach(function(t){W.call(this,t)}.bind(this))):(N.call(this),S.call(this,"full")))}}function S(e){R(this).resolutionMode!==e&&(R(this).resolutionMode=e,this.getElement().setModifier("mode",e),t.Window.trigger("resize"))}function O(){var t=this.view.getContent().getProperty("offsetWidth")-36*(this.getNumberOfColumns()-1),e=k[this.getCurrentLayout()].columns.map(function(t){return t.width}),n=Math.min.apply(null,e);return parseInt(t*n/100)}function A(){for(var t=[],e=2;e<this.getNumberOfColumns();e++)t.push(e);return t}function N(){A.call(this).forEach(function(t){R(this).columns[t].getElement().removeStyle("margin-top")}.bind(this))}function W(t){var e=R(this).columns[t],n=R(this).columns[t-2],i=n.getElement().getPosition().bottom,o=e.getElement().getPosition().top,s=i-o+10;i>0&&o>0&&s<0&&e.getElement().setStyle("margin-top",s)}var R=s.create(),k={"one-column":{header:"One Columns",columns:[{width:100}]},"two-columns":{header:"Two Columns 50:50",columns:[{width:50},{width:50}]},"two-columns-30-70":{header:"Two Columns 30:70",columns:[{width:30},{width:70}]},"two-columns-70-30":{header:"Two Columns 70:30",columns:[{width:70},{width:30}]},"three-columns":{header:"Three Columns 33:33:33",columns:[{width:33},{width:33},{width:33}]},"three-columns-30-40-30":{header:"Three Columns 30:40:30",columns:[{width:30},{width:40},{width:30}]},"four-columns":{header:"Four Columns",columns:[{width:25},{width:25},{width:25},{width:25}]}},U=t.Widget.extend({View:e,id:"Dashboard",init:function(t){R(this).context=this.options.context,R(this).eventBus=R(this).context.eventBus,R(this).layout=void 0!==k[t.layout]?t.layout:"four-columns",R(this).showEmptyColumnPlaceholders=t.showEmptyColumnPlaceholders!==!1,R(this).items=t.items,R(this).references={},t.references&&t.references.length>0&&m.call(this,t.references),R(this).references.Dashboard=U},getNumberOfColumns:function(){return R(this).columns.length},getCurrentLayout:function(){return R(this).layout},addReferences:function(t){m.call(this,t)},addItem:function(t,e,n){var i=b.call(this,t),o=R(this).columns[e];o&&(o.add(i,n),i.onDOMAttach()),t.maximize===!0&&t.maximizable===!0?i.maximize():c.call(this)},removeItem:function(t,e){"string"==typeof t?h.call(this,t):l.call(this,t,e)},removeMaximizedItem:function(){R(this).maximizedItem&&(R(this).maximizedItem.destroy(),L.call(this),c.call(this))},getAvailableLayouts:function(){return Object.keys(k)},changeLayout:function(e){function n(t){return o>=t&&(o=0),o++}if(void 0!==k[e]){var i=[];R(this).columns.forEach(function(t){i=i.concat(t.extractAll()),t.destroy()}.bind(this)),this.view.getContent().removeModifier(R(this).layout),R(this).layout=e,R(this).items=[],y.call(this),this.onDOMAttach();var o=0;i.forEach(function(t,e){var i=n(R(this).columns.length);R(this).columns[i].add(t,0)}.bind(this)),R(this).maximizedItem&&(R(this).maximizedItemColumn=R(this).columns[0]),g.call(this),t.Window.trigger("resize")}},onViewReady:function(){y.call(this),c.call(this),R(this).resizeHandler=t.Window.addEventHandler("resize",M.bind(this)),R(this).dashboardHeaderEvent=R(this).eventBus.subscribe("dashboard:header",d.bind(this)),R(this).slidingPanelsRightAfterChangeEvent=R(this).eventBus.subscribe("layouts:rightpanel:afterchange",this.redraw.bind(this)),R(this).slidingPanelsLeftAfterChangeEvent=R(this).eventBus.subscribe("layouts:leftpanel:afterchange",this.redraw.bind(this)),R(this).redrawEvent=R(this).eventBus.subscribe("dashboard:redraw",this.redraw.bind(this))},onDOMAttach:function(){f.call(this),this.view.getContent().setModifier(R(this).layout),M.call(this)},onDestroy:function(){R(this).columns.forEach(function(t){t.destroy()}),R(this).maximizedItem&&R(this).maximizedItem.destroy(),t.Window.removeEventHandler(R(this).resizeHandler),R(this).eventBus.unsubscribe(R(this).dashboardHeaderEvent),R(this).eventBus.unsubscribe(R(this).slidingPanelsRightAfterChangeEvent),R(this).eventBus.unsubscribe(R(this).slidingPanelsLeftAfterChangeEvent),R(this).eventBus.unsubscribe(R(this).redrawEvent)},toJSON:function(){var t=[];if(R(this).columns.forEach(function(e){t.push(e.toJSON())}.bind(this)),R(this).maximizedItem){var e=R(this).columns.indexOf(R(this).maximizedItemColumn);e!==-1&&t[e].splice(R(this).maximizedItemIndex,0,R(this).maximizedItem.toJSON())}return{type:"Dashboard",layout:R(this).layout,items:t,maximizeText:this.options.maximizeText,minimizeText:this.options.minimizeText,closeText:this.options.closeText,emptyColumnText:this.options.emptyColumnText,emptyDashboardText:this.options.emptyDashboardText,showEmptyColumnPlaceholders:this.options.showEmptyColumnPlaceholders,settingsText:this.options.settingsText}},getItem:function(t,e){return R(this).columns[t].getItems()[e].content},maximizeItem:function(t,e){var n="string"==typeof t?r.call(this,t):R(this).columns[t].getItems()[e];n&&n.options.maximizable===!0&&n.maximize()},minimizeItem:function(){R(this).maximizedItem&&R(this).maximizedItem.minimize()},getMaximizedItem:function(){if(R(this).maximizedItem)return R(this).maximizedItem.content},get:function(t){var e=r.call(this,t);return e?e.content:void 0},getColumnLength:function(t){var e=R(this).columns[t];return void 0!==e&&e.getItems().length},getColumnHeight:function(t){var e=R(this).columns[t];return void 0!==e&&e.getContentHeight()},getTotalLength:function(){var t=0;return R(this).columns.forEach(function(e){t+=e.getItems().length}),t},redraw:function(){M.call(this)}});return U.getLayoutInformation=function(){return JSON.parse(JSON.stringify(k))},U}),define("layouts/Dashboard",["layouts/dashboard/Dashboard"],function(t){return t});
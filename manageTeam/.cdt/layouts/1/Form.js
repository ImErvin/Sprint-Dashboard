/* Copyright (c) Ericsson 2018 */

define("styles!layouts/form/separator/Separator.less",function(){return".elLayouts-Form-Separator {\n  border-bottom: 1px solid #ccc;\n  margin-bottom: 10px;\n}\n"}),define("text!layouts/form/separator/Separator.html",function(){return'<div class="elLayouts-Form-Separator">\r\n</div>'}),define("layouts/form/separator/SeparatorView",["jscore/core","text!./Separator.html","styles!./Separator.less"],function(e,t,i){return e.View.extend({getTemplate:function(){return t},getStyle:function(){return i}})}),define("layouts/form/separator/Separator",["jscore/core","./SeparatorView"],function(e,t){return e.Widget.extend({View:t})}),define("styles!layouts/form/structbody/StructBody.less",function(){return".elLayouts-Form-StructBody {\n  margin-bottom: 10px;\n}\n.elLayouts-Form-StructBody-body {\n  max-height: 0;\n  overflow: hidden;\n  margin-left: 7px;\n  padding-left: 13px;\n  transition: max-height 0.3s ease-in-out;\n  border-left: 1px solid #ccc;\n}\n.elLayouts-Form-StructBody-body > .elLayouts-Form-Render {\n  margin-top: 10px;\n}\n.elLayouts-Form-StructBody-header {\n  cursor: pointer;\n  display: inline-block;\n  line-height: 24px;\n}\n.elLayouts-Form-StructBody-headerLabel,\n.elLayouts-Form-StructBody-delete {\n  display: inline-block;\n}\n.elLayouts-Form-StructBody-headerExpander {\n  display: inline-block;\n}\n.elLayouts-Form-StructBody-headerExpanderIcon:last-child {\n  display: none;\n}\n.elLayouts-Form-StructBody-header_expanded .elLayouts-Form-StructBody-headerExpanderIcon:first-child {\n  display: none;\n}\n.elLayouts-Form-StructBody-header_expanded .elLayouts-Form-StructBody-headerExpanderIcon:last-child {\n  display: inline-block;\n}\n"}),define("template!layouts/form/structbody/StructBody.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,o){function r(e,t){return'<div class="elLayouts-Form-StructBody-delete" tabindex="0"><i class="ebIcon ebIcon_interactive ebIcon_delete"></i></div>'}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers);var a,l,s="",d="function",u=this.escapeExpression,c=this;return s+='<div class="elLayouts-Form-StructBody">\r\n    <div class="elLayouts-Form-StructBody-header" tabindex="0">\r\n        <div class="elLayouts-Form-StructBody-headerExpander">\r\n            <i class="ebIcon ebIcon_rightArrow elLayouts-Form-StructBody-headerExpanderIcon"></i>\r\n            <i class="ebIcon ebIcon_downArrow elLayouts-Form-StructBody-headerExpanderIcon"></i>\r\n        </div>\r\n        <div class="elLayouts-Form-StructBody-headerLabel">',(l=i.label)?a=l.call(t,{hash:{}}):(l=t&&t.label,a=typeof l===d?l.call(t,{hash:{}}):l),s+=u(a)+"</div>\r\n        ",a=i.if.call(t,t&&t.repeat,{hash:{},inverse:c.noop,fn:c.program(1,r,o)}),(a||0===a)&&(s+=a),s+='\r\n    </div>\r\n    <div class="elLayouts-Form-StructBody-body">\r\n    </div>\r\n</div>'})}),define("layouts/form/structbody/StructBodyView",["jscore/core","template!./StructBody.html","styles!./StructBody.less"],function(e,t,i){return e.View.extend({getTemplate:function(){return t(this.options)},getStyle:function(){return i},getHeader:function(){return this.getElement().find(".elLayouts-Form-StructBody-header")},getBody:function(){return this.getElement().find(".elLayouts-Form-StructBody-body")},getDelete:function(){return this.getElement().find(".elLayouts-Form-StructBody-delete")}})}),define("layouts/form/structbody/StructBody",["jscore/core","./StructBodyView","jscore/ext/utils"],function(e,t,i){function n(e){requestAnimationFrame(function(){requestAnimationFrame(function(){e()})})}function o(){var e=this.view.getBody(),t=this.view.getHeader();this.animationTimeout&&clearTimeout(this.animationTimeout);var i=function(){this.animationTimeout=setTimeout(function(){t.hasModifier("expanded")&&e.setStyle("max-height","inherit")},400)}.bind(this);t.hasModifier("expanded")?(t.removeModifier("expanded"),e.setStyle("max-height",r.call(this)+"px"),n(function(){e.setStyle("max-height",0),i()})):(t.setModifier("expanded"),e.setStyle("max-height",0),n(function(){e.setStyle("max-height",r.call(this)+"px"),i()}.bind(this)))}function r(){var e=this.view.getBody().children(),t=20;return e.forEach(function(e){t+=e.getProperty("offsetHeight")}),t}return e.Widget.extend({view:function(){return new t({label:this.options.xml.getAttribute("label"),repeat:this.options.xml.getAttribute("repeat")})},onViewReady:function(){var e=this.view.getBody();this.animationTimeout=void 0,this.widget=new this.options.Render(this.options),this.widget.attachTo(e);var t=this.view.getHeader();t.addEventHandler("click",o.bind(this)),this.options.xml.getAttribute("expanded")&&(t.hasModifier("expanded")||o.call(this)),e.getNative().addEventListener("focus",function(){t.hasModifier("expanded")||o.call(this)}.bind(this),!0)},getValue:function(){return this.widget.getValue()},setValue:function(e){this.widget.setValue(e)},onDestroy:function(){this.widget.destroy()}})}),define("styles!layouts/form/struct/Struct.less",function(){return".elLayouts-Form-Struct-add {\n  margin-bottom: 4px;\n}\n"}),define("template!layouts/form/struct/Struct.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,o){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),'<div class="elLayouts-Form-Struct">\r\n    <div class="elLayouts-Form-Struct-body"></div>\r\n    <div class="elLayouts-Form-Struct-add"></div>\r\n</div>'})}),define("layouts/form/struct/StructView",["jscore/core","template!./Struct.html","styles!./Struct.less"],function(e,t,i){return e.View.extend({getTemplate:function(){return t(this.options)},getStyle:function(){return i},getBody:function(){return this.getElement().find(".elLayouts-Form-Struct-body")},getAdd:function(){return this.getElement().find(".elLayouts-Form-Struct-add")}})}),define("layouts/form/struct/Struct",["jscore/core","./StructView","../structbody/StructBody","../Serializable"],function(e,t,i,n){return n.extend({View:t,BODY_CLASS:i,isRepeatable:function(){return this.options.xml.getAttribute("repeat")}})}),define("styles!layouts/form/fieldmenu/FieldMenu.less",function(){return".elLayouts-Form-FieldMenu {\n  cursor: pointer;\n}\n"}),define("text!layouts/form/fieldmenu/FieldMenu.html",function(){return'<div class="elLayouts-Form-FieldMenu" tabindex="0">\r\n    <i class="ebIcon ebIcon_downArrow"></i>\r\n</div>'}),define("layouts/form/fieldmenu/FieldMenuView",["jscore/core","text!./FieldMenu.html","styles!./FieldMenu.less"],function(e,t,i){return e.View.extend({getTemplate:function(){return t},getStyle:function(){return i}})}),define("layouts/form/fieldmenu/FieldMenu",["widgets/ItemsControl","./FieldMenuView"],function(e,t){return e.extend({View:t,onControlReady:function(){this.setWidth("auto")},onItemSelected:function(e){e.action()}})}),define("styles!layouts/form/addbutton/AddButton.less",function(){return".elLayouts-Form-AddButton {\n  cursor: pointer;\n  display: inline-block;\n}\n.elLayouts-Form-AddButton-icon,\n.elLayouts-Form-AddButton-caption {\n  display: inline-block;\n  vertical-align: middle;\n}\n"}),define("template!layouts/form/addbutton/AddButton.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers);var r,a,l="",s="function",d=this.escapeExpression;return l+='<div class="elLayouts-Form-AddButton" tabindex="0">\r\n    <i class="elLayouts-Form-AddButton-icon ebIcon ebIcon_add"></i>\r\n    <span class="elLayouts-Form-AddButton-caption">',(a=i.add)?r=a.call(t,{hash:{}}):(a=t&&t.add,r=typeof a===s?a.call(t,{hash:{}}):a),l+=d(r)+"</span>\r\n</div>"})}),define("layouts/form/addbutton/AddButtonView",["jscore/core","template!./AddButton.html","styles!./AddButton.less"],function(e,t,i){return e.View.extend({getTemplate:function(){return t(this.options)},getStyle:function(){return i}})}),define("layouts/form/addbutton/AddButton",["jscore/core","./AddButtonView"],function(e,t){return e.Widget.extend({view:function(){return new t(this.options)}})}),define("layouts/form/Serializable",["jscore/core","./addbutton/AddButton","jscore/ext/utils","./FormUtils"],function(e,t,i,n){function o(){if(this.isRepeatable()){var e=this.options.form.options,i=new t({add:e.labels?e.labels.add:"Add"});n.onClickEnter(i.getElement(),r.bind(this)),i.attachTo(this.view.getAdd()),this.getElement().setAttribute("data-repeatable",this.getPath());var o={},a=this.options.key;Object.defineProperty(this.getElement(),"__getFormObject",{value:function(e){return n.checkAuthorized(e,a),o}});var l=function(e,t){t?e.removeStyle("display"):e.setStyle("display","none")};Object.defineProperty(o,"__setEditable",{value:function(e,t){n.checkAuthorized(t,a),l(i.getElement(),e),this.isRepeatable()&&this.bodies.forEach(function(t){l(t.view.getDelete(),e)})}.bind(this)})}}function r(){var e=i.clone(this.options);e.parent=this;var t=new this.BODY_CLASS(e);t.attachTo(this.view.getBody()),this.bodies.iid=a++,this.bodies.push(t),t.getElement().setAttribute("data-path",this.getPath()),this.onBodyAdd&&this.onBodyAdd(t),this.isRepeatable()&&n.onClickEnter(t.view.getDelete(),function(){t.destroy();var e=this.bodies.indexOf(t);this.bodies.splice(e,1),this.onBodyRemove&&this.onBodyRemove(t),t.widget&&t.widget.fields&&t.widget.fields.forEach(function(e){e.onBodyRemove&&e.bodies&&e.bodies[0]&&e.onBodyRemove(e.bodies[0])})}.bind(this))}var a=0,l=e.Widget.extend({onViewReady:function(){this.bodies=[],o.call(this),r.call(this)},getName:function(){return this.options.xml.getAttribute("name")},getValue:function(){return this.isRepeatable()?this.bodies.map(function(e){return e.getValue()}):this.bodies[0].getValue()},getPath:function(){var e="";return this.options.parent&&(e+=this.options.parent.getPath()+"."),e+this.getName()},setValue:function(e){if(this.isRepeatable()){for(;this.bodies.length<e.length;)r.call(this);e.forEach(function(e,t){this.bodies[t].setValue(e)}.bind(this))}else this.bodies[0].setValue(e)},reset:function(){this.bodies.forEach(function(e){e.reset&&e.reset()})},onDestroy:function(){this.bodies.forEach(function(e){e.destroy()})}});return l}),define("layouts/form/fieldbody/popupdatepicker/PopupDatePicker",["jscore/core","widgets/PopupDatePicker"],function(e,t){return e.Widget.extend({onViewReady:function(){var e=this.options.xml,i=e.getAttribute("type"),n="date"===i||"datetime"===i,o="time"===i||"datetime"===i;this.datepicker=new t({showDate:n,showTime:o,utc:"utc"===e.getAttribute("utc"),mode:e.getAttribute("mode")||"locale",placeholder:e.getAttribute("placeholder"),enabled:"disabled"!==e.getAttribute("disabled"),compact:!0});var r=e.getAttribute("width")||180,a=this.getElement();this.datepicker.attachTo(a),a.setAttribute("class","elLayouts-Form-PopupDatePicker"),n&&o?a.setStyle("max-width","calc(100% - 40px)"):a.setStyle("max-width","calc(100% - 20px)");var l=this.datepicker.getElement();l.setStyle("max-width","100%"),l.find(".elWidgets-PopupDatePicker-field").setStyle("max-width","100%"),l.find(".elWidgets-PopupDatePicker-inputWrapper").setStyle("max-width","100%"),l.find("input").setStyle("width",r+"px"),l.find("input").setStyle("max-width","100%")},getValue:function(){return this.datepicker.getValue()},setValue:function(e){this.datepicker.setValue(new Date(e))},getInput:function(){return this.datepicker},getDisplayValue:function(){return this.datepicker.getInput().trim()},reset:function(){this.datepicker.restore()}})}),define("template!layouts/form/fieldbody/password/Password.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,o){function r(e,t){var n,o,r="";return r+='style="width:',(o=i.width)?n=o.call(e,{hash:{}}):(o=e&&e.width,n=typeof o===c?o.call(e,{hash:{}}):o),r+=h(n)+'px;max-width:100%;"'}function a(e,t){var n,o,r="";return r+='placeholder="',(o=i.placeholder)?n=o.call(e,{hash:{}}):(o=e&&e.placeholder,n=typeof o===c?o.call(e,{hash:{}}):o),r+=h(n)+'"'}function l(e,t){return'disabled="disabled"'}function s(e,t){var n,o,r="";return r+='value="',(o=i.value)?n=o.call(e,{hash:{}}):(o=e&&e.value,n=typeof o===c?o.call(e,{hash:{}}):o),r+=h(n)+'"'}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers);var d,u="",c="function",h=this.escapeExpression,f=this;return u+='<div class="elLayouts-Form-Password">\r\n    <input class="ebInput ebInput_width_full" \r\n        type="password"\r\n        ',d=i.if.call(t,t&&t.width,{hash:{},inverse:f.noop,fn:f.program(1,r,o)}),(d||0===d)&&(u+=d),u+=" \r\n        ",d=i.if.call(t,t&&t.placeholder,{hash:{},inverse:f.noop,fn:f.program(3,a,o)}),(d||0===d)&&(u+=d),u+=" \r\n        ",d=i.if.call(t,t&&t.disabled,{hash:{},inverse:f.noop,fn:f.program(5,l,o)}),(d||0===d)&&(u+=d),u+="\r\n        ",d=i.if.call(t,t&&t.value,{hash:{},inverse:f.noop,fn:f.program(7,s,o)}),(d||0===d)&&(u+=d),u+="\r\n        />\r\n</div>"})}),define("layouts/form/fieldbody/password/PasswordView",["jscore/core","template!./Password.html"],function(e,t){return e.View.extend({getTemplate:function(){return t(this.options)},getInput:function(){return this.getElement().find("input")}})}),define("layouts/form/fieldbody/password/Password",["jscore/core","./PasswordView"],function(e,t){return e.Widget.extend({view:function(){var e=this.options.xml;return new t({placeholder:e.getAttribute("placeholder"),width:e.getAttribute("width")||180,disabled:e.getAttribute("disabled"),value:e.getAttribute("value")})},getValue:function(){return this.view.getInput().getValue()},setValue:function(e){this.view.getInput().setValue(e)},getInput:function(){return this.view.getInput()},getDisplayValue:function(){return"********"},reset:function(){this.setValue(this.options.xml.getAttribute("value"))}})}),define("styles!layouts/form/fieldbody/checkboxgroup/CheckboxGroup.less",function(){return".elLayouts-Form-CheckboxGroup-checkbox {\n  margin-right: 15px;\n  display: block;\n  height: 24px;\n}\n"}),define("template!layouts/form/fieldbody/checkboxgroup/CheckboxGroup.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,o){function r(e,t){var n,o,r="";return r+='\r\n        <label class="elLayouts-Form-CheckboxGroup-checkbox"> \r\n             <input class="ebCheckbox" type="checkbox" value="',(o=i.value)?n=o.call(e,{hash:{}}):(o=e&&e.value,n=typeof o===u?o.call(e,{hash:{}}):o),r+=c(n)+'" ',n=i.if.call(e,e&&e.checked,{hash:{},inverse:h.noop,fn:h.program(2,a,t)}),(n||0===n)&&(r+=n),r+=" ",n=i.if.call(e,e&&e.disabled,{hash:{},inverse:h.noop,fn:h.program(4,l,t)}),(n||0===n)&&(r+=n),r+='/> \r\n             <span class="ebCheckbox-inputStatus"></span> \r\n             <span class="ebCheckbox-label">',(o=i.label)?n=o.call(e,{hash:{}}):(o=e&&e.label,n=typeof o===u?o.call(e,{hash:{}}):o),r+=c(n)+"</span> \r\n        </label>\r\n    "}function a(e,t){return'checked="checked"'}function l(e,t){return'disabled="disabled"'}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers);var s,d="",u="function",c=this.escapeExpression,h=this;return d+='<div class="elLayouts-Form-CheckboxGroup">\r\n    ',s=i.each.call(t,t&&t.checkboxes,{hash:{},inverse:h.noop,fn:h.program(1,r,o)}),(s||0===s)&&(d+=s),d+="\r\n</div>"})}),define("layouts/form/fieldbody/checkboxgroup/CheckboxGroupView",["jscore/core","template!./CheckboxGroup.html","styles!./CheckboxGroup.less"],function(e,t,i){return e.View.extend({getTemplate:function(){return t(this.options)},getStyle:function(){return i}})}),define("layouts/form/fieldbody/checkboxgroup/CheckboxGroup",["jscore/core","./CheckboxGroupView"],function(e,t){return e.Widget.extend({view:function(){var e=this.options.xml;this.data={checkboxes:[]};for(var i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];"option"===n.tagName&&this.data.checkboxes.push({label:n.textContent,value:n.getAttribute("value"),checked:"selected"===n.getAttribute("selected"),disabled:"disabled"===n.getAttribute("disabled")})}return new t(this.data)},getValue:function(){var e=[];return this.getElement().findAll("input").forEach(function(t){t.getProperty("checked")&&e.push(t.getAttribute("value"))}),e},setValue:function(e){this.getElement().findAll("input").forEach(function(t){var i=e.indexOf(t.getAttribute("value"))>-1;t.setProperty("checked",i)})},getInput:function(){},getDisplayValue:function(){return this.getValue().map(function(e){return this.getElement().find('[value="'+e+'"] + span + span').getNative().textContent}.bind(this))},reset:function(){var e=[];this.data.checkboxes.forEach(function(t){e.push(t.checked)}.bind(this)),this.getElement().findAll("input").forEach(function(t,i){t.setProperty("checked",e[i])})}})}),define("layouts/form/fieldbody/spinner/Spinner",["jscore/core","widgets/Spinner"],function(e,t){return e.Widget.extend({onViewReady:function(){var e=this.options.xml;this.spinner=new t({min:e.getAttribute("min")?parseInt(e.getAttribute("min"),10):0,max:e.getAttribute("max")?parseInt(e.getAttribute("max"),10):void 0,value:e.getAttribute("value")?parseInt(e.getAttribute("value"),10):0,enabled:"disabled"!==e.getAttribute("disabled"),inputSize:"full",compact:!0});var i=8*(parseInt(e.getAttribute("size")||"4",10)+1)+16,n=this.getElement();n.setAttribute("class","elLayouts-Form-Spinner"),this.spinner.attachTo(n);var o=this.spinner.getElement().find("input");o.setStyle("width",i+"px"),o.setStyle("max-width","100%")},getValue:function(){return this.spinner.getValue()},setValue:function(e){this.spinner.setValue(e)},getInput:function(){return this.spinner},getDisplayValue:function(){return""+this.getValue()},reset:function(){this.spinner.restore()}})}),define("styles!layouts/form/fieldbody/noneditable/NonEditable.less",function(){return".elLayouts-Form-NonEditable {\n  color: #8d8d8d;\n  line-height: 20px;\n}\n.elLayouts-Form-NonEditable-caption {\n  display: inline-block;\n  vertical-align: middle;\n}\n.elLayouts-Form-NonEditable_empty {\n  color: #afafaf;\n  font-style: italic;\n}\n"}),define("template!layouts/form/fieldbody/noneditable/NonEditable.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,o){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),'<div class="elLayouts-Form-NonEditable">\r\n    <span class="elLayouts-Form-NonEditable-caption"></span>\r\n</div>'})}),define("layouts/form/fieldbody/noneditable/NonEditableView",["jscore/core","template!./NonEditable.html","styles!./NonEditable.less"],function(e,t,i){return e.View.extend({getTemplate:function(){return t(this.options)},getStyle:function(){return i},getCaption:function(){return this.getElement().find(".elLayouts-Form-NonEditable-caption")}})}),define("layouts/form/fieldbody/noneditable/NonEditable",["jscore/core","./NonEditableView"],function(e,t){return e.Widget.extend({View:t,onViewReady:function(){this.options.value&&this.view.getCaption().setText(this.options.value),this.options.empty&&(this.view.getCaption().setText("<"+this.options.empty+">"),this.getElement().setModifier("empty"))}})}),define("template!layouts/form/fieldbody/textarea/_textArea.hbs",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,o){function r(e,t){var n,o,r="";return r+='style="width:',(o=i.width)?n=o.call(e,{hash:{}}):(o=e&&e.width,n=typeof o===h?o.call(e,{hash:{}}):o),r+=f(n)+'px;max-width:100%;" '}function a(e,t){var n,o,r="";return r+='placeholder="',(o=i.placeholder)?n=o.call(e,{hash:{}}):(o=e&&e.placeholder,n=typeof o===h?o.call(e,{hash:{}}):o),r+=f(n)+'" '}function l(e,t){return'disabled="disabled" '}function s(e,t){var n,o,r="";return r+='rows="',(o=i.rows)?n=o.call(e,{hash:{}}):(o=e&&e.rows,n=typeof o===h?o.call(e,{hash:{}}):o),r+=f(n)+'"'}function d(e,t){var n,o;return(o=i.value)?n=o.call(e,{hash:{}}):(o=e&&e.value,n=typeof o===h?o.call(e,{hash:{}}):o),f(n)}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers);var u,c="",h="function",f=this.escapeExpression,p=this;return c+='<div class="elLayouts-Form-InputTextArea">\r\n    <textarea class="ebTextArea ebTextArea_width_full"\r\n        ',u=i.if.call(t,t&&t.width,{hash:{},inverse:p.noop,fn:p.program(1,r,o)}),(u||0===u)&&(c+=u),c+="\r\n        ",u=i.if.call(t,t&&t.placeholder,{hash:{},inverse:p.noop,fn:p.program(3,a,o)}),(u||0===u)&&(c+=u),c+="\r\n        ",u=i.if.call(t,t&&t.disabled,{hash:{},inverse:p.noop,fn:p.program(5,l,o)}),(u||0===u)&&(c+=u),c+="\r\n        ",u=i.if.call(t,t&&t.rows,{hash:{},inverse:p.noop,fn:p.program(7,s,o)}),(u||0===u)&&(c+=u),c+="\r\n        >",u=i.if.call(t,t&&t.value,{hash:{},inverse:p.noop,fn:p.program(9,d,o)}),(u||0===u)&&(c+=u),c+="</textarea>\r\n</div>\r\n"})}),define("layouts/form/fieldbody/textarea/TextAreaView",["jscore/core","template!./_textArea.hbs"],function(e,t){return e.View.extend({getTemplate:function(){return t(this.options)},getTextArea:function(){return this.getElement().find("textarea")}})}),define("layouts/form/fieldbody/textarea/TextArea",["jscore/core","./TextAreaView"],function(e,t){return e.Widget.extend({view:function(){var e=this.options.xml;return new t({placeholder:e.getAttribute("placeholder"),width:e.getAttribute("width")||180,disabled:e.getAttribute("disabled"),value:e.getAttribute("value"),rows:e.getAttribute("rows")})},getValue:function(){return this.view.getTextArea().getValue()},setValue:function(e){this.view.getTextArea().setValue(e)},getInput:function(){return this.view.getTextArea()},getDisplayValue:function(){return this.getValue()},reset:function(){this.setValue(this.options.xml.getAttribute("value"))}})}),define("styles!layouts/form/fieldbody/radiogroup/RadioGroup.less",function(){return".elLayouts-Form-RadioGroup-radio {\n  margin-right: 15px;\n  display: block;\n  height: 24px;\n}\n.elLayouts-Form-RadioGroup-label {\n  padding: 5px 0 10px 0;\n}\n"}),define("template!layouts/form/fieldbody/radiogroup/RadioGroup.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,o){function r(e,t,n){var o,r,s="";return s+='\r\n        <label class="elLayouts-Form-RadioGroup-radio"> \r\n             <input class="ebRadioBtn" type="radio" name="'+c((o=n&&n.name,typeof o===u?o.apply(e):o))+'" value="',(r=i.value)?o=r.call(e,{hash:{}}):(r=e&&e.value,o=typeof r===u?r.call(e,{hash:{}}):r),s+=c(o)+'" ',o=i.if.call(e,e&&e.checked,{hash:{},inverse:h.noop,fn:h.program(2,a,t)}),(o||0===o)&&(s+=o),s+=" ",o=i.if.call(e,e&&e.disabled,{hash:{},inverse:h.noop,fn:h.program(4,l,t)}),(o||0===o)&&(s+=o),s+='/> \r\n             <span class="ebRadioBtn-inputStatus"></span> \r\n             <span class="ebRadioBtn-label">',(r=i.label)?o=r.call(e,{hash:{}}):(r=e&&e.label,o=typeof r===u?r.call(e,{hash:{}}):r),s+=c(o)+"</span> \r\n        </label>\r\n    "}function a(e,t){return'checked="checked"'}function l(e,t){return'disabled="disabled"'}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers);var s,d="",u="function",c=this.escapeExpression,h=this;return d+='<div class="elLayouts-Form-RadioGroup">\r\n    ',s=i.each.call(t,t&&t.radios,{hash:{},inverse:h.noop,fn:h.programWithDepth(1,r,o,t)}),(s||0===s)&&(d+=s),d+="\r\n</div>"})}),define("layouts/form/fieldbody/radiogroup/RadioGroupView",["jscore/core","template!./RadioGroup.html","styles!./RadioGroup.less"],function(e,t,i){return e.View.extend({getTemplate:function(){return t(this.options)},getStyle:function(){return i}})}),define("layouts/form/fieldbody/radiogroup/RadioGroup",["jscore/core","./RadioGroupView"],function(e,t){var i=0;return e.Widget.extend({view:function(){var e=this.options.xml;this.data={name:"FormLayout_RadioGroup_"+i++,radios:[]};for(var n=e.childNodes,o=0;o<n.length;o++){var r=n[o];"option"===r.tagName&&this.data.radios.push({label:r.textContent,value:r.getAttribute("value"),checked:"selected"===r.getAttribute("selected"),disabled:"disabled"===r.getAttribute("disabled")})}return new t(this.data)},getValue:function(){var e;return this.getElement().findAll("input").forEach(function(t){t.getProperty("checked")&&(e=t.getAttribute("value"))}),e},setValue:function(e){this.getElement().find('[value="'+e+'"]').setProperty("checked",!0)},getInput:function(){},getDisplayValue:function(){return this.options.xml.querySelector('option[value="'+this.getValue()+'"]').textContent},reset:function(){this.data.radios.forEach(function(e){e.checked&&this.setValue(e.value)}.bind(this))}})}),define("layouts/form/fieldbody/switcher/Switcher",["jscore/core","widgets/Switcher"],function(e,t){return e.Widget.extend({onViewReady:function(){var e=this.options.xml;this.switcher=new t({onLabel:e.getAttribute("on-label"),offLabel:e.getAttribute("off-label"),value:"selected"===e.getAttribute("selected"),enabled:"disabled"!==e.getAttribute("disabled")}),this.getElement().setAttribute("class","elLayouts-Form-Switcher"),this.switcher.attachTo(this.getElement()),this.switcher.getElement().setStyle({display:"inline-block",verticalAlign:"middle"})},getValue:function(){return this.switcher.getValue()},setValue:function(e){this.switcher.setValue(e)},getInput:function(){return this.switcher},getDisplayValue:function(){return this.switcher.getValue()?this.options.xml.getAttribute("on-label"):this.options.xml.getAttribute("off-label")},reset:function(){this.switcher.restore()}})}),define("layouts/form/fieldbody/itemscontrol/ItemsControl",["jscore/core","widgets/SelectBox","widgets/MultiSelectBox","widgets/Combobox","widgets/ComboMultiSelect"],function(e,t,i,n,o){function r(e){var t=a.call(this,e);return{name:t,value:e,title:t}}function a(e){for(var t=this.options.xml.childNodes,i=0;i<t.length;i++)if("option"===t[i].tagName&&t[i].getAttribute("value")===e)return t[i].textContent}var l={select:t,multiselect:i,combo:n,combomultiselect:o};return e.Widget.extend({onViewReady:function(){var e=this.options.xml,t=e.getAttribute("width")||180,i=this.getElement();i.setStyle({width:t+"px",maxWidth:"100%"}),"combomultiselect"===this.type&&i.setStyle({whiteSpace:"normal"});var n={placeholder:e.getAttribute("placeholder")||"",items:[],enabled:"disabled"!==e.getAttribute("disabled"),modifiers:[{name:"width",value:"full"}]};if("multiselect"===this.type){var o=e.getAttribute("select-all-label"),r=e.getAttribute("deselect-all-label");o&&r&&(n.selectDeselectAll={selectAllLabel:o,deselectAllLabel:r})}for(var a=e.childNodes,s=0;s<a.length;s++){var d=a[s];if("option"===d.tagName){var u={name:d.textContent,title:d.textContent,value:d.getAttribute("value")||d.textContent};"disabled"===d.getAttribute("disabled")&&(u.disabled=!0),"selected"===d.getAttribute("selected")&&("multiselect"===this.type?u.checked=!0:"combomultiselect"===this.type?n.value=void 0===n.value?[u]:n.value.concat(u):n.value=u),n.items.push(u)}}this.widget=new l[this.type](n),i.setAttribute("class","elLayouts-Form-"+this.type),this.widget.attachTo(i)},getValue:function(){return"multiselect"===this.type||"combomultiselect"===this.type?this.widget.getValue().map(function(e){return e.value}):this.widget.getValue().value||""},getDisplayValue:function(){return this.widget.getValue().length?this.widget.getValue().map(function(e){return e.name}):this.widget.getValue().name},setValue:function(e){var t;t=e instanceof Array?e.map(r.bind(this)):r.call(this,e),this.widget.setValue(t)},getInput:function(){return this.widget},reset:function(){this.widget.restore()}})}),define("template!layouts/form/fieldbody/text/Text.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,o){function r(e,t){var n,o,r="";return r+='style="width:',(o=i.width)?n=o.call(e,{hash:{}}):(o=e&&e.width,n=typeof o===c?o.call(e,{hash:{}}):o),r+=h(n)+'px;max-width:100%;"'}function a(e,t){var n,o,r="";return r+='placeholder="',(o=i.placeholder)?n=o.call(e,{hash:{}}):(o=e&&e.placeholder,n=typeof o===c?o.call(e,{hash:{}}):o),r+=h(n)+'"'}function l(e,t){return'disabled="disabled"'}function s(e,t){var n,o,r="";return r+='value="',(o=i.value)?n=o.call(e,{hash:{}}):(o=e&&e.value,n=typeof o===c?o.call(e,{hash:{}}):o),r+=h(n)+'"'}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers);var d,u="",c="function",h=this.escapeExpression,f=this;return u+='<div class="elLayouts-Form-Text">\r\n    <input class="ebInput ebInput_width_full" \r\n        ',d=i.if.call(t,t&&t.width,{hash:{},inverse:f.noop,fn:f.program(1,r,o)}),(d||0===d)&&(u+=d),u+=" \r\n        ",d=i.if.call(t,t&&t.placeholder,{hash:{},inverse:f.noop,fn:f.program(3,a,o)}),(d||0===d)&&(u+=d),u+=" \r\n        ",d=i.if.call(t,t&&t.disabled,{hash:{},inverse:f.noop,fn:f.program(5,l,o)}),(d||0===d)&&(u+=d),u+="\r\n        ",d=i.if.call(t,t&&t.value,{hash:{},inverse:f.noop,fn:f.program(7,s,o)}),(d||0===d)&&(u+=d),u+="\r\n        />\r\n</div>"})}),define("layouts/form/fieldbody/text/TextView",["jscore/core","template!./Text.html"],function(e,t){return e.View.extend({getTemplate:function(){return t(this.options)},getInput:function(){return this.getElement().find("input")}})}),define("layouts/form/fieldbody/text/Text",["jscore/core","./TextView"],function(e,t){return e.Widget.extend({view:function(){var e=this.options.xml;return new t({placeholder:e.getAttribute("placeholder"),width:e.getAttribute("width")||180,disabled:e.getAttribute("disabled"),value:e.getAttribute("value")})},getValue:function(){return this.view.getInput().getValue()},setValue:function(e){this.view.getInput().setValue(e)},getInput:function(){return this.view.getInput()},getDisplayValue:function(){return this.getValue()},reset:function(){this.setValue(this.options.xml.getAttribute("value"))}})}),define("styles!layouts/form/fieldbody/FieldBody.less",function(){return".elLayouts-Form-FieldBody-body,\n.elLayouts-Form-FieldBody-delete {\n  display: inline-block;\n  vertical-align: middle;\n}\n.elLayouts-Form-FieldBody-body {\n  max-width: 100%;\n}\n.elLayouts-Form-FieldBody:not(:last-child):not(.elLayouts-Form-FieldBody_noneditable) {\n  margin-bottom: 5px;\n}\n.elLayouts-Form-FieldBody-delete {\n  vertical-align: top;\n  margin-top: 4px;\n}\n/* This style here is for allowing the delete button to not overflow outside the screen on smaller screens. */\n.elLayouts-Form-Field_vertical[data-repeatable] .elLayouts-Form-FieldBody-body {\n  max-width: calc(100% - 20px);\n}\n"}),define("template!layouts/form/fieldbody/FieldBody.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,o){function r(e,t){return'<div class="elLayouts-Form-FieldBody-delete" tabindex="0"><i class="ebIcon ebIcon_interactive ebIcon_delete"></i></div>'}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers);var a,l="",s=this;return l+='<div class="elLayouts-Form-FieldBody">\r\n    <div class="elLayouts-Form-FieldBody-body"></div>\r\n    ',a=i.if.call(t,t&&t.repeat,{hash:{},inverse:s.noop,fn:s.program(1,r,o)}),(a||0===a)&&(l+=a),l+="\r\n</div>"})}),define("layouts/form/fieldbody/FieldBodyView",["jscore/core","template!./FieldBody.html","styles!./FieldBody.less"],function(e,t,i){return e.View.extend({getTemplate:function(){return t(this.options)},getStyle:function(){return i},getBody:function(){return this.getElement().find(".elLayouts-Form-FieldBody-body")},getDelete:function(){return this.getElement().find(".elLayouts-Form-FieldBody-delete")}})}),define("layouts/form/fieldbody/FieldBody",["jscore/core","./FieldBodyView","./text/Text","./itemscontrol/ItemsControl","./switcher/Switcher","./radiogroup/RadioGroup","./textarea/TextArea","./noneditable/NonEditable","./spinner/Spinner","./checkboxgroup/CheckboxGroup","./password/Password","./popupdatepicker/PopupDatePicker","../FormUtils"],function(e,t,i,n,o,r,a,l,s,d,u,c,h){function f(){this.noneditable&&this.noneditable.forEach(function(e){e.destroy()}),this.noneditable=[]}var p={select:n.extend({type:"select"}),text:i,combo:n.extend({type:"combo"}),multiselect:n.extend({type:"multiselect"}),combomultiselect:n.extend({type:"combomultiselect"}),switcher:o,radiogroup:r,textarea:a,spinner:s,checkboxgroup:d,password:u,popupdatepicker:c};return e.Widget.extend({view:function(){return new t({repeat:h.children(this.options.xml)[0].getAttribute("repeat")})},onViewReady:function(){var e=h.children(this.options.xml)[0],t=e.tagName.toLowerCase();this.widget=new p[t]({xml:e}),this.widget.attachTo(this.view.getBody())},getValue:function(){return this.widget.getValue();
},setValue:function(e){this.widget.setValue(e)},setEditable:function(e){if(f.call(this),e)this.widget.attachTo(this.view.getBody()),this.getElement().removeModifier("noneditable");else{this.widget.detach();var t=this.widget.getDisplayValue(),i=function(e){var t=new l(e);t.attachTo(this.view.getBody()),this.noneditable.push(t)}.bind(this);if(0===t.length){var n=this.options.form.options.labels,o=n?n.empty:"empty";i({empty:o})}else"string"==typeof t?i({value:t}):Array.isArray(t)&&t.forEach(function(e){i({value:e})}.bind(this));this.getElement().setModifier("noneditable")}},onDestroy:function(){this.widget.destroy(),f.call(this)},reset:function(){var e=this.widget;e.reset&&e.reset()}})}),define("styles!layouts/form/field/Field.less",function(){return".elLayouts-Form-Field {\n  white-space: nowrap;\n  margin-bottom: 10px;\n}\n.elLayouts-Form-Field-content {\n  display: inline-block;\n  vertical-align: top;\n  max-width: 100%;\n}\n.elLayouts-Form-Field-before:not(:empty),\n.elLayouts-Form-Field-after:not(:empty) {\n  color: #a4a4a4;\n  padding: 4px 0;\n}\n.elLayouts-Form-Field-add {\n  margin-top: 5px;\n}\n.elLayouts-Form-Field-body:not(:empty) + .elLayouts-Form-Field-add {\n  margin-top: 10px;\n}\n.elLayouts-Form-Field-label {\n  vertical-align: top;\n  max-width: 100%;\n  display: inline-block;\n}\n.elLayouts-Form-Field-labelText,\n.elLayouts-Form-Field-labelInfo,\n.elLayouts-Form-Field-labelMenu {\n  display: inline-block;\n  vertical-align: top;\n}\n.elLayouts-Form-Field-labelText {\n  line-height: 24px;\n  height: 24px;\n}\n.elLayouts-Form-Field-labelInfo {\n  opacity: 0;\n  width: 0;\n  margin-top: 4px;\n  margin-left: 4px;\n}\n.elLayouts-Form-Field-labelRequired::after {\n  display: inline-block;\n  width: 0.5rem;\n  line-height: 24px;\n  margin: 0 0 0 0.1rem;\n  vertical-align: top;\n  color: #e32119;\n  content: '*';\n}\n.elLayouts-Form-Field:hover .elLayouts-Form-Field-labelInfo,\n.elLayouts-Form-Field_showInfo .elLayouts-Form-Field-labelInfo,\n.elLayouts-Form-Field_alwaysShowInfo .elLayouts-Form-Field-labelInfo {\n  opacity: 1;\n  width: auto;\n}\n.elLayouts-Form-Field_vertical .elLayouts-Form-Field-content,\n.elLayouts-Form-Field_vertical .elLayouts-Form-Fieldlabel {\n  display: block;\n}\n.elLayouts-Form_noneditable .elLayouts-Form-Field-labelText {\n  height: 20px;\n  line-height: 20px;\n}\n.elLayouts-Form_noneditable .elLayouts-Form-Field-labelInfo {\n  margin-top: 2px;\n}\n.elLayouts-Form_noneditable .elLayouts-Form-Field-labelRequired:after {\n  line-height: 20px;\n}\n"}),define("template!layouts/form/field/Field.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,o){function r(e,t){return"elLayouts-Form-Field-labelRequired"}function a(e,t){return'<div class="elLayouts-Form-Field-add"></div>'}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers);var l,s,d="",u=this,c="function",h=this.escapeExpression;return d+='<div class="elLayouts-Form-Field">\r\n    <div class="elLayouts-Form-Field-label">\r\n        <div class="elLayouts-Form-Field-labelText ',l=i.if.call(t,t&&t.required,{hash:{},inverse:u.noop,fn:u.program(1,r,o)}),(l||0===l)&&(d+=l),d+='">',(s=i.label)?l=s.call(t,{hash:{}}):(s=t&&t.label,l=typeof s===c?s.call(t,{hash:{}}):s),d+=h(l)+'</div>\r\n        <div class="elLayouts-Form-Field-labelInfo"></div>\r\n        <div class="elLayouts-Form-Field-labelMenu"></div>\r\n    </div>\r\n    <div class="elLayouts-Form-Field-content">\r\n        <div class="elLayouts-Form-Field-before">',(s=i.before)?l=s.call(t,{hash:{}}):(s=t&&t.before,l=typeof s===c?s.call(t,{hash:{}}):s),d+=h(l)+'</div>\r\n        <div class="elLayouts-Form-Field-body"></div>\r\n        ',l=i.if.call(t,t&&t.repeat,{hash:{},inverse:u.noop,fn:u.program(3,a,o)}),(l||0===l)&&(d+=l),d+='\r\n        <div class="elLayouts-Form-Field-after">',(s=i.after)?l=s.call(t,{hash:{}}):(s=t&&t.after,l=typeof s===c?s.call(t,{hash:{}}):s),d+=h(l)+"</div>\r\n    </div>\r\n</div>"})}),define("layouts/form/field/FieldView",["jscore/core","template!./Field.html","styles!./Field.less"],function(e,t,i){function n(e,t){var i=o||(o=document.createElement("canvas")),n=i.getContext("2d");n.font="12px Arial";var r=n.measureText(e);return Math.round(r.width)}var o;return e.View.extend({getTemplate:function(){return t(this.options)},getStyle:function(){return i},getLabel:function(){return this.getElement().find(".elLayouts-Form-Field-label")},setLabelWidth:function(e){this.getLabel().setStyle("width",e+"px")},getLabelTextWidth:function(){return n(this.getElement().find(".elLayouts-Form-Field-labelText").getText())},getInfo:function(){return this.getElement().find(".elLayouts-Form-Field-labelInfo")},getBody:function(){return this.getElement().find(".elLayouts-Form-Field-body")},getAdd:function(){return this.getElement().find(".elLayouts-Form-Field-add")},getMenu:function(){return this.getElement().find(".elLayouts-Form-Field-labelMenu")},getAfter:function(){return this.getElement().find(".elLayouts-Form-Field-after")}})}),define("layouts/form/field/Field",["jscore/core","./FieldView","widgets/InfoPopup","../fieldbody/FieldBody","../Serializable","../fieldmenu/FieldMenu","../FormUtils"],function(e,t,i,n,o,r,a){return o.extend({BODY_CLASS:n,view:function(){return new t({label:this.options.xml.getAttribute("label"),required:this.options.xml.getAttribute("required"),before:this.options.xml.getAttribute("before"),after:this.options.xml.getAttribute("after"),repeat:a.children(this.options.xml)[0].getAttribute("repeat")})},isRepeatable:function(){return a.children(this.options.xml)[0].getAttribute("repeat")},onViewReady:function(){if(o.prototype.onViewReady.call(this),this.options.xml.getAttribute("info")){var e=new i({content:this.options.xml.getAttribute("info")});e.attachTo(this.view.getInfo()),this.getElement().getNative().addEventListener("focus",function(e){this.getElement().setModifier("showInfo")}.bind(this),!0),this.getElement().getNative().addEventListener("blur",function(e){this.getElement().removeModifier("showInfo")}.bind(this),!0),this.options.form.options.alwaysShowInfo&&this.getElement().setModifier("alwaysShowInfo")}},onBodyAdd:function(e){var t={},i=this.options.key;Object.defineProperties(t,{iid:{value:this.bodies.iid,enumerable:!0},name:{value:this.getName(),enumerable:!0},path:{value:this.getPath(),enumerable:!0},input:{value:e.widget.getInput(),enumerable:!0},setAfter:{value:function(e){this.view.getAfter().setText(e)}.bind(this),enumerable:!0},__setEditable:{value:function(t,n){a.checkAuthorized(n,i),e.setEditable(t)}}}),Object.defineProperty(e.getElement(),"__getFormObject",{value:function(e){return a.checkAuthorized(e,i),t}}),e.getElement().setAttribute("data-body","field"),this.options.form.trigger("fieldadd",e.getElement().__getFormObject(i));var n=e.getElement().getNative().cloneNode(!0);n.style.display="inline-block",document.body.appendChild(n),this.fullWidth=n.offsetWidth,n.remove()},onBodyRemove:function(e){var t=this.options.key;this.options.form.trigger("fieldremove",e.getElement().__getFormObject(t))}})}),define("layouts/form/Render",["jscore/core","./field/Field","./struct/Struct","./separator/Separator","./FormUtils"],function(e,t,i,n,o){function r(e){var t=e.tagName.toLowerCase(),i=new s[t]({xml:e,Render:d,form:this.options.form,parent:this.options.parent,key:this.options.key});i.attachTo(this.getElement()),"field"===t&&this.fields.push(i),"separator"!==t&&this.serializable.push(i)}function a(){var e=0;this.fields.forEach(function(t){var i=t.view.getLabelTextWidth();i>e&&(e=i)}),e+=50,this.maxWidth=e,this.fields.forEach(function(t){t.view.setLabelWidth(e)})}function l(){var e=function(e){this.fields.forEach(function(t){e===!0?t.getElement().setModifier("vertical"):t.getElement().removeModifier("vertical")})}.bind(this);if(this.options.form.options.vertical)return void e(!0);for(var t=0;t<this.fields.length;t++)if(this.fields[t].fullWidth+this.maxWidth>this.getElement().getProperty("offsetWidth"))return void e(!0);e(!1)}var s={field:t,struct:i,separator:n},d=e.Widget.extend({onViewReady:function(){this.getElement().setAttribute("class","elLayouts-Form-Render"),this.fields=[],this.serializable=[];for(var t=o.children(this.options.xml),i=0;i<t.length;i++)r.call(this,t[i]);a.call(this),this.resizeEvent=e.Window.addEventHandler("resize",l.bind(this))},getValue:function(){var e={};return this.serializable.forEach(function(t){e[t.getName()]=t.getValue()}),e},onDOMAttach:function(){l.call(this)},setValue:function(e){this.serializable.forEach(function(t){var i=e[t.getName()];void 0!==i&&t.setValue(i)})},onDestroy:function(){e.Window.removeEventHandler(this.resizeEvent),this.serializable.forEach(function(e){e.destroy()})},reset:function(){this.serializable.forEach(function(e){e.reset&&e.reset()})}});return d}),define("layouts/form/FormUtils",[],function(){return{checkAuthorized:function(e,t){if(e!==t)throw new Error("Unauthorized. Please only use functionality documented in the API.")},onClickEnter:function(e,t){e.addEventHandler("click keypress",function(e){this.clickOrEnter(e)&&t()}.bind(this))},clickOrEnter:function(e){return!e||"keypress"!==e.originalEvent.type||13===e.originalEvent.keyCode},children:function(e){for(var t=[],i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];n.tagName&&t.push(n)}return t}}}),define("layouts/form/DTD",[],function(){var e={pattern:/^\d+$/,description:"Pixel width for this input."},t={pattern:/^disabled$/,description:"Disables the input and prevents changes."},i={description:"Initial value for this input."},n={required:!0,description:"Property name to use when serializing with getData()."},o={required:!0,description:"The display name for this input."},r={pattern:/^repeat$/,description:"User can create multiple instances of this input."},a={pattern:/^expanded$/,description:"Struct displays in expanded state initially."},l={description:"Placeholder text for this input when no value is specified."};return{form:{description:"Root element for the form.",children:["field","struct","separator"]},separator:{description:"Draws a line across the form.",children:[],parent:["form"]},struct:{description:"Group fields together into an expandable structure.",parent:["form","struct"],children:["field","struct"],minChildren:1,attributes:{label:o,name:n,repeat:r,expanded:a}},field:{description:"Fields are used to attach inputs to the form.",attributes:{label:o,name:n,info:{description:"Text for Info Popup."},required:{pattern:/^required$/,description:"Displays the red asterisk."}},children:["select","text","combo","multiselect","switcher","spinner","radiogroup","struct","textarea","checkboxgroup","password","combomultiselect","popupdatepicker"],parent:["form","struct"],minChildren:1,maxChildren:1},select:{description:"Provides an instance of the SelectBox widget.",attributes:{placeholder:l,disabled:t,width:e},parent:["field"],children:["option"]},combo:{description:"Provides an instance of the ComboBox widget.",attributes:{placeholder:l,disabled:t,width:e,repeat:r},parent:["field"],children:["option"]},multiselect:{description:"Provides an instance of the MultiSelectBox widget.",attributes:{"select-all-label":{description:'Label text used to display "Select All" in the MultiSelectBox widget. Both select-all-label and deselect-all-label need to be provided for the widget to display the select/deselect options.'},"deselect-all-label":{description:'Label text used to display "Deselect All" in the MultiSelectBox widget. Both select-all-label and deselect-all-label need to be provided for the widget to display the select/deselect options.'},disabled:t,width:e},parent:["field"],children:["option"]},combomultiselect:{description:"Provides an instance of the ComboMultiSelect widget.",attributes:{placeholder:l,disabled:t,width:e},parent:["field"],children:["option"]},option:{description:"Options for the parent tag.",parent:["select","combo","multiselect","checkboxgroup","radiogroup","combomultiselect"],text:!0,attributes:{value:{required:!0,description:"This value is used for serializing."},selected:{pattern:/^selected$/,description:"Specifies if the option is already selected."},disabled:t}},text:{description:"Simple input field for entering plain text.",attributes:{placeholder:l,width:e,disabled:t,value:i,repeat:r},parent:["field"]},password:{description:"Input field for entering password.",attributes:{placeholder:l,width:e,disabled:t,value:i,repeat:r},parent:["field"]},textarea:{description:"Simple input field for entering multiple lines of plain text.",attributes:{placeholder:l,width:e,disabled:t,repeat:r,value:i,rows:{pattern:/^\d+$/,description:"The number of visible text lines."}},parent:["field"]},switcher:{description:"Provides an instance of the Switcher widget.",parent:["field"],attributes:{"on-label":{required:!0,description:'The label for the "true" state.'},"off-label":{required:!0,description:'The label for the "false" state.'},selected:{pattern:/^selected$/,description:'Specifies if the widget should be in the "true" state.'},disabled:t}},spinner:{description:"Provides an instance of the Spinner widget.",parent:["field"],attributes:{min:{pattern:/^(-)?\d+$/,description:"Minimum value for the spinner."},max:{pattern:/^(-)?\d+$/,description:"Maximum value for the spinner."},value:{pattern:/^(-)?\d+$/,description:"Initial value for the spinner."},disabled:t,size:{pattern:/^(-)?\d+$/,description:"The number of digits that should be able to visibly fit into this spinner."}}},radiogroup:{description:"Provides radio buttons.",parent:["field"],children:["option"],minChildren:2},checkboxgroup:{description:"Provides checkboxes.",parent:["field"],children:["option"],minChildren:1},popupdatepicker:{description:"Provides an instance of the PopupDatePicker widget.",parent:["field"],attributes:{type:{description:"Type of picker",required:!0,pattern:/^date$|^time$|^datetime$/},utc:{description:"If set date and time will represent UTC instead of local time zone.",pattern:/^utc$/},mode:{description:"Specifies the format for parsing and formatting the dates.",pattern:/^locale$|^international$/},placeholder:l,disabled:t,width:e}}}}),define("layouts/form/Validator",["./DTD","./FormUtils"],function(e,t){function i(e,t){if(!e)throw new Error(t)}function n(e){return e.tagName.toLowerCase()}function o(t,o){if(t.parentNode&&t.parentNode.tagName){var r=n(t.parentNode);Array.isArray(o.parent)?o.parent:[o.parent];i(o.parent.indexOf(r)>-1,'"'+r+'" cannot have child "'+n(t)+'". Acceptable childs are '+e[r].children.join(", "))}}function r(e,o){for(var r=t.children(e)||[],a=n(e),l=0;l<r.length;l++){var s=n(r[l]);i(o.children.indexOf(s)!==-1,'"'+s+'" cannot be child of "'+a+'". Acceptable childs are '+o.children.join(", ")+".")}void 0!==o.minChildren&&i(r.length>=o.minChildren,'"'+a+'" must have at least '+o.minChildren+" child tags."),void 0!==o.maxChildren&&i(r.length<=o.maxChildren,'"'+a+'" must have no more than '+o.maxChildren+" child tags.")}function a(e,t){for(var o,r=t.attributes||{},a={},l=n(e),s=0;s<e.attributes.length;s++)o=e.attributes[s],a[o.name]=o.value;for(o in r)r[o].required&&i(void 0!==a[o],'Missing required attribute "'+o+'" for tag "'+l+'".');for(o in a)i(r[o],'Unsupported attribute "'+o+'" for tag "'+l+'".'),i(""!==a[o],'Empty value in attribute "'+o+'" for tag "'+l+'".'),r[o].pattern&&i(r[o].pattern.test(a[o]),'Value in "'+o+'" for tag "'+l+'" does not match pattern "'+r[o].pattern+'"')}function l(e,t){t.text&&i(e.textContent,'Must have text content for tag "'+n(e)+'".')}return{validate:function(t){var s=[];t.nodeType!==t.DOCUMENT_NODE&&s.push(t),s=s.concat(Array.prototype.slice.call(t.querySelectorAll("*")));for(var d=0;d<s.length;d++){var u=s[d],c=n(u),h=e[c];i(h,'Unrecognized tag "'+c+'".'),o(u,h),r(u,h),a(u,h),l(u,h)}}}}),define("layouts/form/Form",["jscore/core","./Validator","./Render","jscore/ext/privateStore"],function(e,t,i,n){var o=n.create(),r=function(){return Math.floor(1e5*Math.random())},a=r()+"-"+r()+"-"+r();return e.Widget.extend({onViewReady:function(){var e=new DOMParser,n=e.parseFromString(this.options.content,"text/xml");this.getElement().setAttribute("class","elLayouts-Form");var r=n.querySelector("parsererror");if(r){var l=r.textContent.match(/(?:L|l)ine(?:.*?)(\d+)/),s=r.textContent.match(/(?:C|c)olumn(?:.*?)(\d+)/),d="Form Layout Parse Error -";throw l&&(d+=" Line "+l[1]),s&&(d+=" Column "+s[1]),new Error(d)}t.validate(n),o(this).render=new i({xml:n.querySelector("form"),form:this,key:a}),o(this).render.attachTo(this.getElement()),void 0!==this.options.editable&&this.setEditable(this.options.editable)},getData:function(){return o(this).render.getValue()},setData:function(e){o(this).render.setValue(e)},getField:function(e){var t=this.getElement().find('[data-path="'+e+'"][data-body="field"]');if(t)return t.__getFormObject(a)},getFields:function(){return this.getElement().findAll('[data-path][data-body="field"]').map(function(e){return e.__getFormObject(a)})},setEditable:function(e){this.getElement().findAll('[data-body="field"]').forEach(function(t){t.__getFormObject(a).__setEditable(e,a)}),this.getElement().findAll("[data-repeatable]").forEach(function(t){t.__getFormObject(a).__setEditable(e,a)}),e?this.getElement().removeModifier("noneditable"):this.getElement().setModifier("noneditable")},onDestroy:function(){o(this).render.destroy()},reset:function(){o(this).render.reset()}})}),define("layouts/Form",["layouts/form/Form"],function(e){return e});
/* Copyright (c) Ericsson 2019 */

define("text!widgets/TextArea/_textarea.html",function(){return'<textarea class="ebTextArea"></textarea>\n'}),define("widgets/TextArea/TextAreaView",["jscore/core","text!./_textarea.html"],function(e,t){"use strict";return e.View.extend({getTemplate:function(){return t}})}),define("widgets/TextArea/TextArea",["jscore/core","widgets/WidgetCore","./TextAreaView","jscore/ext/privateStore"],function(e,t,i,r){"use strict";var a=r.create();return t.extend({View:i,onViewReady:function(){var e=this.options,t=this.getElement();["maxlength","minlength","placeholder","rows"].forEach(function(i){void 0!==e[i]&&t.setAttribute(i,e[i])}),["disabled","readonly","required"].forEach(function(i){var r=e[i]===!0||e[i]===i;void 0!==e[i]&&r&&t.setAttribute(i,i)});var i=e.width;i&&t.setStyle("width",i);var r=e.maxheight;r&&(a(this).maxheight=parseFloat(r));var n=e.autoResize;n&&(a(this).autoResize=n,t.addEventHandler("keydown",function(){this.redraw()}.bind(this)),t.addEventHandler("drop",function(){a(this).autoResize&&this.redraw()}.bind(this)));var s=e.value;s&&this.setValue(s),t.addEventHandler("change",function(){this.trigger("change",this.getValue())}.bind(this))},getValue:function(){return this.getElement().getValue()},setValue:function(e){this.getElement().setValue(e),a(this).autoResize&&this.redraw()},clear:function(){this.setValue("")},redraw:function(){var e=this.getElement(),t=a(this).maxheight;e.setStyle({height:"auto"}),requestAnimationFrame(function(){var i=e.getProperty("scrollHeight")+2;t&&t<i?e.setStyle({height:t,overflowY:"auto"}):e.setStyle({height:i+"px",overflowY:"hidden"})})}})}),define("widgets/TextArea",["widgets/TextArea/TextArea"],function(e){return e});
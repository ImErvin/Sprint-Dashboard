/* Copyright (c) Ericsson 2019 */

define("text!widgets/ContextMenu/_contextMenu.html",function(){return'<div class="ebContextMenu">\n    <div class="ebContextMenu-expandBtn">\n        <i class="ebIcon ebIcon_medium ebIcon_menu ebIcon_interactive" tabindex="0"></i>\n    </div>\n    <div class="ebContextMenu-body ebContextMenu-body_corner_default"></div>\n</div>'}),define("widgets/ContextMenu/ContextMenuView",["jscore/core","text!./_contextMenu.html"],function(t,e){"use strict";var n=t.View.extend({afterRender:function(){this.outerEl=this.getElement().find("."+n.OUTER_CLASS),this.expandBtn=this.getElement().find("."+n.EXPAND_BTN_CLASS),this.dropdown=this.getElement().find("."+n.DROPDOWN_CLASS),this.expandBtnIcon=this.expandBtn.find("."+n.EXPAND_BTN_ICON_CLASS)},getTemplate:function(){return e},setTitle:function(t){this.outerEl.setText(t),this.outerEl.setAttribute("title",t)},getTitle:function(){return this.outerEl.getText()},getOuterEl:function(){return this.outerEl},getExpandBtn:function(){return this.expandBtn},getExpandBtnIcon:function(){return this.expandBtnIcon},getDropdown:function(){return this.dropdown},showDropdown:function(t){this.dropdown.setModifier("visible",""+t)},enableMenu:function(t){t?(this.getExpandBtnIcon().removeModifier("disabled"),this.getExpandBtnIcon().setModifier("interactive")):(this.getExpandBtnIcon().removeModifier("interactive"),this.getExpandBtnIcon().setModifier("disabled"))}},{OUTER_CLASS:"ebContextMenu",EXPAND_BTN_CLASS:"ebContextMenu-expandBtn",EXPAND_BTN_ICON_CLASS:"ebIcon",DROPDOWN_CLASS:"ebContextMenu-body"});return n}),define("widgets/ContextMenu/ContextMenu",["widgets/ItemsControl","widgets/Tooltip","./ContextMenuView","jscore/ext/privateStore"],function(t,e,n,i){"use strict";var o=i.create();return t.extend({View:n,onInit:function(){this.setOption("quickItemFocus",!0)},onControlReady:function(){this.options.title&&(o(this).title=this.options.title,this.setTitle(o(this).title)),o(this).corner=this.options.corner||"default",this.options.items=this.options.items||[];var t=this.options.items,e=t.some(function(t){return t.header&&t.expandable===!0});if(e?(this.setOption("width","180px"),this.setOption("height","auto")):this.setOption("width","auto"),this.options.actions)for(var n in this.options.actions)this.options.actions.hasOwnProperty(n)&&this.options.items.push({name:n,action:this.options.actions[n]});this.setItems(this.options.items||[])},onListShow:function(){this.setCorner(o(this).corner)},onEnable:function(){this.view.enableMenu(!0)},onDisable:function(){this.view.enableMenu(!1)},setCorner:function(t){this.view.getDropdown().setModifier("corner",t)},setTitle:function(t){o(this).title=t,o(this).tooltip?o(this).tooltip.setContentText(o(this).title):(o(this).tooltip=new e({parent:this.view.getExpandBtn(),contentText:o(this).title,enabled:!0}),o(this).tooltip.attachTo(this.getElement())),""===t&&o(this).tooltip&&(o(this).tooltip.destroy(),delete o(this).tooltip)},getTitle:function(){return o(this).tooltip?o(this).title:""},onItemSelected:function(t){t.action&&t.action()},setActions:function(t){var e=Object.keys(t),n=[];e.forEach(function(e){var i=t[e];n.push({name:e,action:i})},this),this.setItems(n)}})}),define("widgets/ContextMenu",["widgets/ContextMenu/ContextMenu"],function(t){return t});